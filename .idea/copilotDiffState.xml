<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/FIX_SUBSCRIPTIONS_NOT_RENDERING.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/FIX_SUBSCRIPTIONS_NOT_RENDERING.md" />
              <option name="updatedContent" value="# FIX: Vehicle Subscriptions Not Rendering on Home Page&#10;&#10;## Problem&#10;Vehicle subscriptions were not appearing on the home page even though the API was being called.&#10;&#10;## Root Causes Found&#10;&#10;### 1. Duplicate Container ID (FIXED)&#10;**Issue:** There were TWO LinearLayout elements with the same ID `llVehicleSubscriptionsContainer` in `fragment_home.xml`&#10;- Line 321: First container (inside HorizontalScrollView) - CORRECT&#10;- Line 342: Duplicate container - REMOVED&#10;&#10;**Impact:** This caused confusion in the layout but wasn't the main issue since findViewById returns the first match.&#10;&#10;**Fix:** Removed the duplicate container and its associated title text.&#10;&#10;### 2. API Parameter Order (MAIN ISSUE - FIXED)&#10;**Issue:** The `getCustomerSubscriptions` API call had parameters in the wrong order&#10;&#10;**Before (WRONG):**&#10;```java&#10;.getCustomerSubscriptions(customerId, authHeader)&#10;```&#10;&#10;**After (CORRECT):**&#10;```java&#10;.getCustomerSubscriptions(authHeader, customerId)&#10;```&#10;&#10;**Why this matters:** The Retrofit API interface expects:&#10;```java&#10;getCustomerSubscriptions(&#10;    @Header(&quot;Authorization&quot;) String authHeader,&#10;    @Path(&quot;customerId&quot;) String customerId&#10;)&#10;```&#10;&#10;The wrong parameter order would cause:&#10;- The customerId to be sent as the Authorization header (invalid auth)&#10;- The auth token to be used as the path parameter (wrong customerId)&#10;- Result: API call fails, returns 401 Unauthorized or 404 Not Found&#10;- No subscriptions are loaded or displayed&#10;&#10;## Files Modified&#10;&#10;### 1. fragment_home.xml&#10;**Change:** Removed duplicate container&#10;```xml&#10;&lt;!-- REMOVED --&gt;&#10;&lt;TextView&#10;    android:text=&quot;Gói dịch vụ của tôi&quot;&#10;    ... /&gt;&#10;&#10;&lt;LinearLayout&#10;    android:id=&quot;@+id/llVehicleSubscriptionsContainer&quot;  &lt;!-- DUPLICATE --&gt;&#10;    ... /&gt;&#10;```&#10;&#10;**Location:** Lines 333-346&#10;&#10;### 2. HomeFragment.java&#10;**Change:** Fixed parameter order in API call&#10;```java&#10;// Line 440: BEFORE&#10;.getCustomerSubscriptions(customerId, authHeader)&#10;&#10;// Line 440: AFTER  &#10;.getCustomerSubscriptions(authHeader, customerId)&#10;```&#10;&#10;## How to Verify the Fix&#10;&#10;### 1. Check Logcat&#10;Look for these log messages when opening the home page:&#10;&#10;```&#10;D/HomeFragment: loadVehicleSubscriptions: Starting to load vehicle subscriptions&#10;D/HomeFragment: Retrieved customerId: {some-id}&#10;D/HomeFragment: fetchVehicleSubscriptions: Making API call for customerId: {some-id}&#10;D/HomeFragment: Vehicle subscriptions API response received: 200&#10;D/HomeFragment: Loaded X vehicle subscriptions&#10;```&#10;&#10;### 2. Visual Check&#10;On the home page, under &quot;Các gói xe của tôi&quot; section, you should see:&#10;- Horizontal scrollable cards&#10;- Each card showing:&#10;  - Vehicle image&#10;  - Vehicle name and model&#10;  - Package name&#10;  - Subscription status (days remaining)&#10;  - Progress bar&#10;  - Date range&#10;&#10;### 3. Test Cases&#10;&#10;#### Test 1: User with subscriptions&#10;1. Login with an account that has active subscriptions&#10;2. Navigate to Home tab&#10;3. ✅ Expected: Vehicle subscription cards appear under &quot;Các gói xe của tôi&quot;&#10;&#10;#### Test 2: User without subscriptions&#10;1. Login with a new account (no subscriptions)&#10;2. Navigate to Home tab&#10;3. ✅ Expected: &quot;Các gói xe của tôi&quot; section is empty (no cards)&#10;&#10;#### Test 3: After creating new subscription&#10;1. Click &quot;BOOK NOW&quot; on a package&#10;2. Complete payment&#10;3. ✅ Expected: New subscription card appears immediately in the list&#10;&#10;## API Call Flow (CORRECTED)&#10;&#10;```&#10;1. HomeFragment loads&#10;   ↓&#10;2. loadVehicleSubscriptions() called&#10;   ↓&#10;3. Get customerId from TokenHelper&#10;   ↓&#10;4. Get auth token&#10;   ↓&#10;5. Call API: GET /vehicle-subscriptions/customer/{customerId}&#10;   Headers: Authorization: Bearer {token}&#10;   ↓&#10;6. Receive response with subscription data&#10;   ↓&#10;7. Clear existing cards from llVehicleSubscriptionsContainer&#10;   ↓&#10;8. For each subscription:&#10;   - Create card from item_vehicle_subscription.xml&#10;   - Populate with data&#10;   - Add to container&#10;   ↓&#10;9. Cards are now visible on screen&#10;```&#10;&#10;## Why This Fix Works&#10;&#10;### Parameter Order Matters&#10;Retrofit uses annotations to map method parameters:&#10;- `@Header(&quot;Authorization&quot;)` - Takes the first parameter and adds it as HTTP header&#10;- `@Path(&quot;customerId&quot;)` - Takes the second parameter and inserts it into URL path&#10;&#10;**With wrong order:**&#10;```&#10;GET /vehicle-subscriptions/customer/{Bearer token...}&#10;Headers: Authorization: {customerId}&#10;Result: 401 Unauthorized (invalid token format)&#10;```&#10;&#10;**With correct order:**&#10;```&#10;GET /vehicle-subscriptions/customer/{actual-customer-id}&#10;Headers: Authorization: Bearer {actual-token}&#10;Result: 200 OK (returns subscription data)&#10;```&#10;&#10;## Build Status&#10;✅ **BUILD SUCCESSFUL** in 3s&#10;✅ All compilation errors resolved&#10;✅ Ready for testing&#10;&#10;## Related Files&#10;- `HomeFragment.java` - Main implementation&#10;- `fragment_home.xml` - Layout file&#10;- `VehicleSubscriptionApi.java` - API interface definition&#10;- `item_vehicle_subscription.xml` - Individual subscription card layout&#10;&#10;## Testing Checklist&#10;- [x] Code compiles successfully&#10;- [x] No duplicate IDs in XML&#10;- [x] API parameters in correct order&#10;- [ ] Test with real data (requires app running)&#10;- [ ] Verify subscriptions appear&#10;- [ ] Verify empty state works&#10;- [ ] Verify new subscriptions appear after payment&#10;&#10;---&#10;&#10;**Date:** November 7, 2025  &#10;**Status:** ✅ FIXED - Ready for Testing  &#10;**Build:** Successful&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/PAYMENT_FEATURE_SUMMARY.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/PAYMENT_FEATURE_SUMMARY.md" />
              <option name="updatedContent" value="# Payment Feature Implementation Summary&#10;&#10;## Overview&#10;Successfully implemented payment functionality for service packages (&quot;gói dịch vụ&quot;) on the home page.&#10;&#10;## Changes Made&#10;&#10;### 1. Created Payment Dialog Layout&#10;**File:** `app/src/main/res/layout/dialog_payment_package.xml`&#10;- Professional payment dialog with modern UI&#10;- Displays package information (name, description, duration, km interval)&#10;- Vehicle selection dropdown (Spinner)&#10;- Payment method selection (Radio buttons):&#10;  - Tiền mặt (Cash)&#10;  - Ví MoMo (MoMo wallet)&#10;  - Chuyển khoản ngân hàng (Bank transfer)&#10;- Price summary section&#10;- Confirm/Cancel buttons&#10;- Loading overlay for async operations&#10;&#10;### 2. Updated HomeFragment&#10;**File:** `app/src/main/java/com/example/prm_assignment/ui/fragments/HomeFragment.java`&#10;&#10;#### Added Imports:&#10;- `AlertDialog` for dialog display&#10;- `VehiclesApi` for fetching user's vehicles&#10;- `VehicleSubscriptionApi` for creating subscriptions&#10;- `CreateSubscriptionRequest` for API request&#10;- `SingleSubscriptionResponse` for API response&#10;- Additional UI components (Spinner, RadioGroup, Button, etc.)&#10;&#10;#### Added Fields:&#10;- `vehiclesApi` - API client for vehicle operations&#10;- `vehicleSubscriptionApi` - API client for subscription operations&#10;- `vehiclesList` - List to store user's vehicles&#10;&#10;#### New Methods:&#10;&#10;1. **`showPaymentDialog(PackageModel packageModel)`**&#10;   - Creates and displays the payment dialog&#10;   - Populates package information&#10;   - Loads user's vehicles&#10;   - Handles payment confirmation&#10;&#10;2. **`loadVehiclesForDialog(Spinner spinnerVehicle, FrameLayout loadingOverlay)`**&#10;   - Fetches user's vehicles from API&#10;   - Populates the vehicle dropdown&#10;   - Handles empty vehicle list scenario&#10;&#10;3. **`getSelectedPaymentMethod(RadioGroup rgPaymentMethod)`**&#10;   - Retrieves the selected payment method&#10;   - Returns localized payment method name&#10;&#10;4. **`createSubscription(PackageModel, VehicleModel, String, AlertDialog, FrameLayout, Button)`**&#10;   - Creates a new vehicle subscription via API&#10;   - Calculates start and end dates based on package duration&#10;   - Handles success/error responses&#10;   - Refreshes vehicle subscriptions list on success&#10;   - Shows appropriate user feedback&#10;&#10;#### Updated &quot;BOOK NOW&quot; Button:&#10;- Changed from simple Toast message to opening payment dialog&#10;- Now triggers `showPaymentDialog(packageModel)` on click&#10;&#10;### 3. Updated CreateSubscriptionRequest Model&#10;**File:** `app/src/main/java/com/example/prm_assignment/data/model/CreateSubscriptionRequest.java`&#10;- Added no-arg constructor for flexibility&#10;- Maintains existing parameterized constructor&#10;&#10;## Features&#10;&#10;### User Flow:&#10;1. User views service packages on home page&#10;2. User clicks &quot;BOOK NOW&quot; on desired package&#10;3. Payment dialog opens showing:&#10;   - Package details (name, description, duration, km interval)&#10;   - Total price&#10;   - Vehicle selection dropdown&#10;4. User selects their vehicle from the list&#10;5. User selects payment method&#10;6. User clicks &quot;Xác nhận thanh toán&quot; (Confirm Payment)&#10;7. System creates subscription via API&#10;8. On success:&#10;   - Shows success message&#10;   - Closes dialog&#10;   - Refreshes vehicle subscriptions list to show new subscription&#10;9. On error:&#10;   - Shows error message&#10;   - Keeps dialog open for retry&#10;&#10;### Validation:&#10;- Checks if user has any vehicles registered&#10;- Validates vehicle selection before processing payment&#10;- Requires payment method selection (defaults to Cash)&#10;- Handles API errors gracefully&#10;&#10;### User Experience:&#10;- Loading indicators during async operations&#10;- Informative error messages in Vietnamese&#10;- Smooth dialog animations&#10;- Prevents duplicate submissions during processing&#10;- Auto-refreshes subscription list after successful payment&#10;&#10;## API Integration&#10;&#10;### Endpoints Used:&#10;1. **GET** `/vehicles/my-vehicles` - Fetch user's vehicles&#10;2. **POST** `/vehicle-subscriptions` - Create new subscription&#10;&#10;### Request Format:&#10;```json&#10;{&#10;  &quot;vehicleId&quot;: &quot;string&quot;,&#10;  &quot;package_id&quot;: &quot;string&quot;,&#10;  &quot;start_date&quot;: &quot;2025-11-07T00:00:00.000Z&quot;,&#10;  &quot;end_date&quot;: &quot;2025-12-07T00:00:00.000Z&quot;&#10;}&#10;```&#10;&#10;## Testing Recommendations&#10;&#10;1. **Test with no vehicles:**&#10;   - Verify proper message is shown&#10;   - Ensure user is guided to add vehicle first&#10;&#10;2. **Test with multiple vehicles:**&#10;   - Verify all vehicles appear in dropdown&#10;   - Correct vehicle is selected&#10;&#10;3. **Test payment methods:**&#10;   - Verify all payment methods are selectable&#10;   - Note: Currently all methods create subscription (payment gateway integration can be added later)&#10;&#10;4. **Test API errors:**&#10;   - Network timeout&#10;   - Invalid package ID&#10;   - Server errors&#10;&#10;5. **Test success flow:**&#10;   - Subscription created successfully&#10;   - Success message shown&#10;   - Vehicle subscriptions list refreshed&#10;   - New subscription appears on home page&#10;&#10;## Future Enhancements&#10;&#10;1. **Payment Gateway Integration:**&#10;   - Integrate real payment gateways (MoMo, VNPay, etc.)&#10;   - Add payment status tracking&#10;   - Implement payment confirmation webhooks&#10;&#10;2. **Enhanced Validation:**&#10;   - Check if vehicle already has active subscription for this package&#10;   - Validate package compatibility with vehicle&#10;&#10;3. **Payment History:**&#10;   - Store payment transactions&#10;   - Add payment receipt generation&#10;   - Payment history screen&#10;&#10;4. **Promo Codes:**&#10;   - Add discount code input&#10;   - Apply promotions to pricing&#10;&#10;5. **Multiple Package Selection:**&#10;   - Allow bundling multiple packages&#10;   - Bulk discount calculations&#10;&#10;## Build Status&#10;✅ Build successful - All changes compile without errors&#10;✅ No breaking changes to existing functionality&#10;✅ Backward compatible with existing API&#10;&#10;## Files Modified&#10;1. `dialog_payment_package.xml` (NEW)&#10;2. `HomeFragment.java` (MODIFIED)&#10;3. `CreateSubscriptionRequest.java` (MODIFIED)&#10;&#10;---&#10;**Implementation Date:** November 7, 2025&#10;**Status:** ✅ Complete and Ready for Testing&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/PAYMENT_QUICK_REFERENCE.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/PAYMENT_QUICK_REFERENCE.md" />
              <option name="updatedContent" value="# Quick Reference - Payment Feature&#10;&#10;##  What Was Added&#10;&#10;### Main Feature&#10;**Payment dialog for service packages on the home page**&#10;&#10;When users click &quot;BOOK NOW&quot; on any service package, they can now:&#10;1. ✅ View complete package details&#10;2. ✅ Select which vehicle to apply the package to&#10;3. ✅ Choose a payment method&#10;4. ✅ Complete the purchase&#10;&#10;The subscription is automatically created and appears in the &quot;Xe của tôi&quot; (My Vehicles) section.&#10;&#10;---&#10;&#10;##  Files Created/Modified&#10;&#10;### NEW FILES:&#10;1. **`dialog_payment_package.xml`**&#10;   - Location: `app/src/main/res/layout/`&#10;   - Purpose: Payment dialog UI layout&#10;&#10;2. **`PAYMENT_FEATURE_SUMMARY.md`**&#10;   - Location: Root directory&#10;   - Purpose: Complete documentation&#10;&#10;### MODIFIED FILES:&#10;1. **`HomeFragment.java`**&#10;   - Location: `app/src/main/java/com/example/prm_assignment/ui/fragments/`&#10;   - Changes: Added payment dialog functionality&#10;&#10;2. **`CreateSubscriptionRequest.java`**&#10;   - Location: `app/src/main/java/com/example/prm_assignment/data/model/`&#10;   - Changes: Added no-arg constructor&#10;&#10;---&#10;&#10;##  How to Test&#10;&#10;### Step 1: Run the App&#10;```bash&#10;.\gradlew.bat assembleDebug&#10;```&#10;or simply click Run in Android Studio&#10;&#10;### Step 2: Navigate to Home&#10;- Login to the app&#10;- Go to Home tab (bottom navigation)&#10;&#10;### Step 3: Test Payment Flow&#10;1. Scroll to &quot;Gói dịch vụ&quot; section&#10;2. Click &quot;BOOK NOW&quot; on any package&#10;3. Wait for vehicles to load&#10;4. Select a vehicle from dropdown&#10;5. Choose payment method&#10;6. Click &quot;Xác nhận thanh toán&quot;&#10;7. ✅ Success! Check subscription appears below&#10;&#10;---&#10;&#10;## ⚡ Quick Commands&#10;&#10;### Build Project&#10;```powershell&#10;cd &quot;d:\Dang\Fall2025_Semester 8\PRM301\Project\PRM_Assignment&quot;&#10;.\gradlew.bat assembleDebug&#10;```&#10;&#10;### Clean Build&#10;```powershell&#10;.\gradlew.bat clean assembleDebug&#10;```&#10;&#10;### Install on Device&#10;```powershell&#10;.\gradlew.bat installDebug&#10;```&#10;&#10;---&#10;&#10;##  Troubleshooting&#10;&#10;### Issue: &quot;No vehicles found&quot;&#10;**Solution:** User needs to add a vehicle first&#10;- Go to Vehicles tab&#10;- Add a vehicle&#10;- Return to Home and try again&#10;&#10;### Issue: Payment fails&#10;**Possible causes:**&#10;- Network connection issue&#10;- Invalid token (re-login)&#10;- Server error&#10;&#10;**Debug steps:**&#10;1. Check Logcat for error messages (Tag: &quot;HomeFragment&quot;)&#10;2. Verify API endpoint is accessible&#10;3. Check token is valid&#10;&#10;### Issue: Dialog doesn't open&#10;**Check:**&#10;- Make sure you clicked &quot;BOOK NOW&quot; not the card itself&#10;- Check Logcat for errors&#10;- Verify `dialog_payment_package.xml` exists&#10;&#10;---&#10;&#10;##  API Calls Made&#10;&#10;### When Dialog Opens:&#10;```&#10;GET /api/vehicles/my-vehicles&#10;Authorization: Bearer {token}&#10;```&#10;&#10;### When Payment Confirmed:&#10;```&#10;POST /api/vehicle-subscriptions&#10;Authorization: Bearer {token}&#10;Body: {&#10;  &quot;vehicleId&quot;: &quot;...&quot;,&#10;  &quot;package_id&quot;: &quot;...&quot;,&#10;  &quot;start_date&quot;: &quot;2025-11-07T00:00:00.000Z&quot;,&#10;  &quot;end_date&quot;: &quot;2025-12-07T00:00:00.000Z&quot;&#10;}&#10;```&#10;&#10;---&#10;&#10;##  Key Features&#10;&#10;✅ **Smart validation** - Checks if user has vehicles&#10;✅ **Loading states** - Shows spinners during operations&#10;✅ **Error handling** - Graceful error messages&#10;✅ **Auto-refresh** - Updates subscription list after payment&#10;✅ **Multi-language** - All text in Vietnamese&#10;✅ **Professional UI** - Modern Material Design&#10;&#10;---&#10;&#10;##  UI Components Used&#10;&#10;- `AlertDialog` - Main payment dialog container&#10;- `Spinner` - Vehicle selection dropdown&#10;- `RadioGroup` - Payment method selection&#10;- `CardView` - Package info card&#10;- `ProgressBar` - Loading indicator&#10;- `Button` - Action buttons&#10;- `TextView` - Text labels and values&#10;&#10;---&#10;&#10;## ✅ Build Status&#10;&#10;**Latest Build:** ✅ SUCCESS&#10;```&#10;BUILD SUCCESSFUL in 15s&#10;36 actionable tasks: 6 executed, 30 up-to-date&#10;```&#10;&#10;All files compile without errors!&#10;&#10;---&#10;&#10;##  Supported Payment Methods&#10;&#10;Currently displays (actual payment gateway integration can be added later):&#10;1.  **Tiền mặt** (Cash)&#10;2.  **Ví MoMo** (MoMo Wallet)&#10;3.  **Chuyển khoản ngân hàng** (Bank Transfer)&#10;&#10;All methods currently create the subscription immediately.&#10;Future enhancement: Add real payment gateway integration.&#10;&#10;---&#10;&#10;##  Code Highlights&#10;&#10;### Opening the Dialog&#10;```java&#10;btnBookNow.setOnClickListener(v -&gt; {&#10;    showPaymentDialog(packageModel);&#10;});&#10;```&#10;&#10;### Creating Subscription&#10;```java&#10;CreateSubscriptionRequest request = new CreateSubscriptionRequest();&#10;request.setVehicleId(vehicle.getId());&#10;request.setPackageId(packageModel.getId());&#10;request.setStartDate(sdf.format(startDate));&#10;request.setEndDate(sdf.format(endDate));&#10;&#10;vehicleSubscriptionApi.createSubscription(&quot;Bearer &quot; + token, request)&#10;    .enqueue(callback);&#10;```&#10;&#10;---&#10;&#10;**Ready to use! **&#10;&#10;For detailed documentation, see: `PAYMENT_FEATURE_SUMMARY.md`&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/prm_assignment/data/remote/CustomerApi.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/prm_assignment/data/remote/CustomerApi.java" />
              <option name="originalContent" value="package com.example.prm_assignment.data.remote;&#10;&#10;import com.example.prm_assignment.data.model.CustomerResponse;&#10;import retrofit2.Call;&#10;import retrofit2.http.GET;&#10;import retrofit2.http.Header;&#10;import retrofit2.http.Path;&#10;&#10;public interface CustomerApi {&#10;    @GET(&quot;customers/user/{userId}&quot;)&#10;    Call&lt;CustomerResponse&gt; getCustomerByUserId(&#10;            @Path(&quot;userId&quot;) String userId,&#10;            @Header(&quot;Authorization&quot;) String authHeader&#10;    );&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.example.prm_assignment.data.remote;&#13;&#10;&#13;&#10;import com.example.prm_assignment.data.model.CustomerResponse;&#13;&#10;import retrofit2.Call;&#13;&#10;import retrofit2.http.GET;&#13;&#10;import retrofit2.http.Header;&#13;&#10;import retrofit2.http.Path;&#13;&#10;&#13;&#10;public interface CustomerApi {&#13;&#10;    @GET(&quot;customers/user/{userId}&quot;)&#13;&#10;    Call&lt;CustomerResponse&gt; getCustomerByUserId(&#13;&#10;            @Header(&quot;Authorization&quot;) String authHeader,&#13;&#10;            @Path(&quot;userId&quot;) String userId&#13;&#10;    );&#13;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/prm_assignment/ui/fragments/HomeFragment.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/prm_assignment/ui/fragments/HomeFragment.java" />
              <option name="originalContent" value="package com.example.prm_assignment.ui.fragments;&#10;&#10;import android.annotation.SuppressLint;&#10;import android.app.AlertDialog;&#10;import android.os.Bundle;&#10;import android.os.Handler;&#10;import android.os.Looper;&#10;import android.util.Log;&#10;import android.view.LayoutInflater;&#10;import android.view.MotionEvent;&#10;import android.view.View;&#10;import android.view.ViewGroup;&#10;import android.widget.ArrayAdapter;&#10;import android.widget.Button;&#10;import android.widget.FrameLayout;&#10;import android.widget.ImageView;&#10;import android.widget.LinearLayout;&#10;import android.widget.ProgressBar;&#10;import android.widget.RadioGroup;&#10;import android.widget.Spinner;&#10;import android.widget.TextView;&#10;import android.widget.Toast;&#10;&#10;import androidx.annotation.NonNull;&#10;import androidx.annotation.Nullable;&#10;import androidx.cardview.widget.CardView;&#10;import androidx.fragment.app.Fragment;&#10;&#10;import com.example.prm_assignment.R;&#10;import com.example.prm_assignment.data.TokenHelper;&#10;import com.example.prm_assignment.data.model.CreateSubscriptionRequest;&#10;import com.example.prm_assignment.data.model.PackageModel;&#10;import com.example.prm_assignment.data.model.PackagesResponse;&#10;import com.example.prm_assignment.data.model.ProfileResponse;&#10;import com.example.prm_assignment.data.model.SingleSubscriptionResponse;&#10;import com.example.prm_assignment.data.model.VehicleModel;&#10;import com.example.prm_assignment.data.model.VehicleResponse;&#10;import com.example.prm_assignment.data.remote.PackagesApi;&#10;import com.example.prm_assignment.data.remote.PackagesRetrofitClient;&#10;import com.example.prm_assignment.data.remote.ProfileApi;&#10;import com.example.prm_assignment.data.remote.ProfileRetrofitClient;&#10;import com.example.prm_assignment.data.remote.VehiclesApi;&#10;import com.example.prm_assignment.data.remote.VehiclesRetrofitClient;&#10;import com.example.prm_assignment.data.remote.VehicleSubscriptionApi;&#10;import com.example.prm_assignment.data.remote.VehicleSubscriptionRetrofitClient;&#10;&#10;import java.text.NumberFormat;&#10;import java.text.SimpleDateFormat;&#10;import java.util.ArrayList;&#10;import java.util.Calendar;&#10;import java.util.Date;&#10;import java.util.List;&#10;import java.util.Locale;&#10;import retrofit2.Call;&#10;import retrofit2.Callback;&#10;import retrofit2.Response;&#10;&#10;public class HomeFragment extends Fragment {&#10;    private static final String TAG = &quot;HomeFragment&quot;;&#10;&#10;    private float dX, dY;&#10;    private int lastAction;&#10;&#10;    private TextView tvGreeting;&#10;    private TextView tvCountry;&#10;    private LinearLayout llPackagesContainer;&#10;    private LinearLayout llVehicleSubscriptionsContainer;&#10;    private FrameLayout loadingOverlay;&#10;    private TokenHelper tokenHelper;&#10;    private PackagesApi packagesApi;&#10;    private ProfileApi profileApi;&#10;    private VehiclesApi vehiclesApi;&#10;    private VehicleSubscriptionApi vehicleSubscriptionApi;&#10;    private List&lt;VehicleModel&gt; vehiclesList = new ArrayList&lt;&gt;();&#10;&#10;    // Track loading states&#10;    private boolean profileLoaded = false;&#10;    private boolean packagesLoaded = false;&#10;    private boolean vehicleSubscriptionsLoaded = false;&#10;&#10;    @SuppressLint(&quot;ClickableViewAccessibility&quot;)&#10;    @Nullable&#10;    @Override&#10;    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {&#10;        View view = inflater.inflate(R.layout.fragment_home, container, false);&#10;&#10;        // Initialize TokenHelper and API&#10;        tokenHelper = new TokenHelper(requireContext());&#10;        packagesApi = PackagesRetrofitClient.getInstance().getPackagesApi();&#10;        profileApi = ProfileRetrofitClient.getInstance().getProfileApi();&#10;        vehiclesApi = VehiclesRetrofitClient.getInstance().getVehiclesApi();&#10;        vehicleSubscriptionApi = VehicleSubscriptionRetrofitClient.getInstance().getVehicleSubscriptionApi();&#10;&#10;        // Initialize views&#10;        tvGreeting = view.findViewById(R.id.tvGreeting);&#10;        tvCountry = view.findViewById(R.id.tvCountry);&#10;        llPackagesContainer = view.findViewById(R.id.llPackagesContainer);&#10;        llVehicleSubscriptionsContainer = view.findViewById(R.id.llVehicleSubscriptionsContainer);&#10;        loadingOverlay = view.findViewById(R.id.loadingOverlay);&#10;&#10;        // Check if views are found&#10;        if (tvGreeting == null) {&#10;            Log.e(TAG, &quot;tvGreeting is null!&quot;);&#10;        }&#10;        if (tvCountry == null) {&#10;            Log.e(TAG, &quot;tvCountry is null!&quot;);&#10;        }&#10;        if (llPackagesContainer == null) {&#10;            Log.e(TAG, &quot;llPackagesContainer is null!&quot;);&#10;        } else {&#10;            Log.d(TAG, &quot;llPackagesContainer found&quot;);&#10;        }&#10;&#10;        // Show loading at start&#10;        showLoading();&#10;&#10;        // Initialize chat bubble&#10;        CardView chatBubble = view.findViewById(R.id.chatBubble);&#10;        if (chatBubble == null) {&#10;            Log.w(TAG, &quot;chatBubble not found in layout&quot;);&#10;        } else {&#10;            chatBubble.setOnTouchListener((v, event) -&gt; {&#10;                switch (event.getActionMasked()) {&#10;                    case MotionEvent.ACTION_DOWN:&#10;                        dX = v.getX() - event.getRawX();&#10;                        dY = v.getY() - event.getRawY();&#10;                        lastAction = MotionEvent.ACTION_DOWN;&#10;                        // Scale down slightly when pressed for visual feedback&#10;                        v.animate().scaleX(0.9f).scaleY(0.9f).setDuration(100).start();&#10;                        break;&#10;&#10;                    case MotionEvent.ACTION_MOVE:&#10;                        // Calculate new position&#10;                        float newX = event.getRawX() + dX;&#10;                        float newY = event.getRawY() + dY;&#10;&#10;                        // Get parent dimensions for boundary checking&#10;                        ViewGroup parent = (ViewGroup) v.getParent();&#10;                        if (parent != null) {&#10;                            // Constrain X within parent bounds&#10;                            float maxX = parent.getWidth() - v.getWidth();&#10;                            newX = Math.max(0, Math.min(newX, maxX));&#10;&#10;                            // Constrain Y within parent bounds&#10;                            float maxY = parent.getHeight() - v.getHeight();&#10;                            newY = Math.max(0, Math.min(newY, maxY));&#10;                        }&#10;&#10;                        // Apply smooth movement with animation&#10;                        v.animate()&#10;                            .x(newX)&#10;                            .y(newY)&#10;                            .setDuration(0)&#10;                            .start();&#10;&#10;                        lastAction = MotionEvent.ACTION_MOVE;&#10;                        break;&#10;&#10;                    case MotionEvent.ACTION_UP:&#10;                        // Scale back to normal&#10;                        v.animate().scaleX(1f).scaleY(1f).setDuration(100).start();&#10;&#10;                        if (lastAction == MotionEvent.ACTION_DOWN) {&#10;                            // This was a click, not a drag&#10;                            v.performClick();&#10;                            Toast.makeText(getContext(), &quot;Chat đang được phát triển&quot;, Toast.LENGTH_SHORT).show();&#10;                        }&#10;                        break;&#10;&#10;                    default:&#10;                        return false;&#10;                }&#10;                return true;&#10;            });&#10;        }&#10;&#10;        // Load data from API&#10;        loadProfileData();&#10;        loadPackagesData();&#10;        loadVehicleSubscriptions();&#10;&#10;        return view;&#10;    }&#10;&#10;    private void showLoading() {&#10;        if (loadingOverlay != null) {&#10;            loadingOverlay.setVisibility(View.VISIBLE);&#10;            Log.d(TAG, &quot;Loading overlay shown&quot;);&#10;        }&#10;    }&#10;&#10;    private void hideLoading() {&#10;        if (loadingOverlay != null) {&#10;            loadingOverlay.setVisibility(View.GONE);&#10;            Log.d(TAG, &quot;Loading overlay hidden&quot;);&#10;        }&#10;    }&#10;&#10;    private void checkAndHideLoading() {&#10;        // Hide loading only when all data is loaded&#10;        if (profileLoaded &amp;&amp; packagesLoaded &amp;&amp; vehicleSubscriptionsLoaded) {&#10;            hideLoading();&#10;            Log.d(TAG, &quot;All data loaded, hiding loading overlay&quot;);&#10;        }&#10;    }&#10;&#10;    private void addPackageCard(PackageModel packageModel) {&#10;        if (llPackagesContainer == null) {&#10;            Log.e(TAG, &quot;llPackagesContainer is null, cannot add card&quot;);&#10;            return;&#10;        }&#10;&#10;        // Inflate the package card layout&#10;        View cardView = LayoutInflater.from(getContext()).inflate(R.layout.item_package, llPackagesContainer, false);&#10;&#10;        // Find views in the card&#10;        TextView tvPackageName = cardView.findViewById(R.id.tvPackageName);&#10;        TextView tvPackagePrice = cardView.findViewById(R.id.tvPackagePrice);&#10;        CardView btnBookNow = cardView.findViewById(R.id.btnBookNow);&#10;&#10;        // Set data&#10;        tvPackageName.setText(packageModel.getName());&#10;&#10;        // Format price&#10;        NumberFormat formatter = NumberFormat.getNumberInstance(new Locale(&quot;vi&quot;, &quot;VN&quot;));&#10;        String formattedPrice = formatter.format(packageModel.getPrice()) + &quot; VND&quot;;&#10;        tvPackagePrice.setText(formattedPrice);&#10;&#10;        // Set click listener&#10;        btnBookNow.setOnClickListener(v -&gt; {&#10;            showPaymentDialog(packageModel);&#10;        });&#10;&#10;        cardView.setOnClickListener(v -&gt; {&#10;            Toast.makeText(getContext(), &quot;Selected: &quot; + packageModel.getName(), Toast.LENGTH_SHORT).show();&#10;        });&#10;&#10;        // Add card to container&#10;        llPackagesContainer.addView(cardView);&#10;    }&#10;&#10;    private void loadProfileData() {&#10;        Log.d(TAG, &quot;loadProfileData: Starting to load profile&quot;);&#10;        profileLoaded = false;&#10;        tokenHelper.getTokenAndExecute(token -&gt; {&#10;            Log.d(TAG, &quot;Token retrieved: &quot; + (token != null ? &quot;Yes (length=&quot; + token.length() + &quot;)&quot; : &quot;No&quot;));&#10;            if (token != null &amp;&amp; !token.isEmpty()) {&#10;                fetchProfile(&quot;Bearer &quot; + token);&#10;            } else {&#10;                Log.e(TAG, &quot;No token found&quot;);&#10;                if (tvGreeting != null) {&#10;                    tvGreeting.setText(&quot;Xin chào, Khách&quot;);&#10;                }&#10;                // Mark as loaded even if failed&#10;                profileLoaded = true;&#10;                checkAndHideLoading();&#10;            }&#10;        });&#10;    }&#10;&#10;    private void fetchProfile(String authHeader) {&#10;        Log.d(TAG, &quot;fetchProfile: Making API call&quot;);&#10;        profileApi.getProfile(authHeader).enqueue(new Callback&lt;ProfileResponse&gt;() {&#10;            @Override&#10;            public void onResponse(@NonNull Call&lt;ProfileResponse&gt; call, @NonNull Response&lt;ProfileResponse&gt; response) {&#10;                Log.d(TAG, &quot;Profile API response received: &quot; + response.code());&#10;                if (response.isSuccessful() &amp;&amp; response.body() != null) {&#10;                    ProfileResponse profileResponse = response.body();&#10;                    if (profileResponse.isSuccess() &amp;&amp; profileResponse.getData() != null) {&#10;                        String customerName = profileResponse.getData().getCustomerName();&#10;                        String address = profileResponse.getData().getAddress();&#10;                        Log.d(TAG, &quot;Customer name from API: &quot; + customerName);&#10;                        Log.d(TAG, &quot;Address from API: &quot; + address);&#10;&#10;                        if (tvGreeting != null) {&#10;                            if (customerName != null &amp;&amp; !customerName.isEmpty()) {&#10;                                tvGreeting.setText(&quot;Xin chào, &quot; + customerName);&#10;                            } else {&#10;                                tvGreeting.setText(&quot;Xin chào, Khách hàng&quot;);&#10;                            }&#10;                        }&#10;&#10;                        if (tvCountry != null) {&#10;                            if (address != null &amp;&amp; !address.isEmpty()) {&#10;                                tvCountry.setText(address);&#10;                            } else {&#10;                                tvCountry.setText(&quot;Việt Nam&quot;);&#10;                            }&#10;                        }&#10;                    } else {&#10;                        Log.w(TAG, &quot;Profile response unsuccessful or data is null&quot;);&#10;                        if (tvGreeting != null) {&#10;                            tvGreeting.setText(&quot;Xin chào, Khách hàng&quot;);&#10;                        }&#10;                        if (tvCountry != null) {&#10;                            tvCountry.setText(&quot;Việt Nam&quot;);&#10;                        }&#10;                    }&#10;                } else {&#10;                    Log.e(TAG, &quot;Profile fetch failed: &quot; + response.code());&#10;                    if (tvGreeting != null) {&#10;                        tvGreeting.setText(&quot;Xin chào, Khách hàng&quot;);&#10;                    }&#10;                    if (tvCountry != null) {&#10;                        tvCountry.setText(&quot;Việt Nam&quot;);&#10;                    }&#10;                }&#10;&#10;                // Mark profile as loaded&#10;                profileLoaded = true;&#10;                checkAndHideLoading();&#10;            }&#10;&#10;            @Override&#10;            public void onFailure(@NonNull Call&lt;ProfileResponse&gt; call, @NonNull Throwable t) {&#10;                Log.e(TAG, &quot;Profile fetch error: &quot; + t.getMessage(), t);&#10;                if (tvGreeting != null) {&#10;                    tvGreeting.setText(&quot;Xin chào, Khách hàng&quot;);&#10;                }&#10;                if (tvCountry != null) {&#10;                    tvCountry.setText(&quot;Việt Nam&quot;);&#10;                }&#10;&#10;                // Mark profile as loaded even on failure&#10;                profileLoaded = true;&#10;                checkAndHideLoading();&#10;            }&#10;        });&#10;    }&#10;&#10;    private void loadPackagesData() {&#10;        Log.d(TAG, &quot;loadPackagesData: Starting to load packages&quot;);&#10;        packagesLoaded = false;&#10;        tokenHelper.getTokenAndExecute(token -&gt; {&#10;            Log.d(TAG, &quot;Token retrieved for packages: &quot; + (token != null ? &quot;Yes&quot; : &quot;No&quot;));&#10;            if (token != null &amp;&amp; !token.isEmpty()) {&#10;                Log.d(TAG, &quot;Calling fetchPackages with token&quot;);&#10;                fetchPackages(&quot;Bearer &quot; + token);&#10;            } else {&#10;                Log.e(TAG, &quot;No token found for packages&quot;);&#10;                Toast.makeText(getContext(), &quot;Vui lòng đăng nhập&quot;, Toast.LENGTH_SHORT).show();&#10;                // Mark as loaded even if failed&#10;                packagesLoaded = true;&#10;                checkAndHideLoading();&#10;            }&#10;        });&#10;    }&#10;&#10;    private void fetchPackages(String authHeader) {&#10;        Log.d(TAG, &quot;fetchPackages: Making API call&quot;);&#10;        Log.d(TAG, &quot;Auth header: &quot; + authHeader.substring(0, Math.min(20, authHeader.length())) + &quot;...&quot;);&#10;        Log.d(TAG, &quot;Base URL: &quot; + com.example.prm_assignment.BuildConfig.BASE_URL);&#10;&#10;        packagesApi.getPackages(authHeader).enqueue(new Callback&lt;PackagesResponse&gt;() {&#10;            @Override&#10;            public void onResponse(@NonNull Call&lt;PackagesResponse&gt; call, @NonNull Response&lt;PackagesResponse&gt; response) {&#10;                Log.d(TAG, &quot;Packages API response received&quot;);&#10;                Log.d(TAG, &quot;Response code: &quot; + response.code());&#10;                Log.d(TAG, &quot;Response URL: &quot; + call.request().url());&#10;&#10;                if (response.isSuccessful() &amp;&amp; response.body() != null) {&#10;                    PackagesResponse packagesResponse = response.body();&#10;                    Log.d(TAG, &quot;Response successful: &quot; + packagesResponse.isSuccess());&#10;                    if (packagesResponse.isSuccess() &amp;&amp; packagesResponse.getData() != null) {&#10;                        Log.d(TAG, &quot;Loaded &quot; + packagesResponse.getData().size() + &quot; packages&quot;);&#10;&#10;                        // Clear existing cards&#10;                        if (llPackagesContainer != null) {&#10;                            llPackagesContainer.removeAllViews();&#10;                        }&#10;&#10;                        // Add each package as a card&#10;                        for (PackageModel packageModel : packagesResponse.getData()) {&#10;                            addPackageCard(packageModel);&#10;                        }&#10;&#10;//                        Toast.makeText(getContext(), &quot;Đã tải &quot; + packagesResponse.getData().size() + &quot; gói dịch vụ&quot;, Toast.LENGTH_SHORT).show();&#10;                    } else {&#10;                        Log.w(TAG, &quot;Response body empty or unsuccessful&quot;);&#10;                    }&#10;                } else {&#10;                    Log.e(TAG, &quot;Packages fetch failed: &quot; + response.code() + &quot; - &quot; + response.message());&#10;                    Toast.makeText(getContext(), &quot;Không thể tải gói dịch vụ: &quot; + response.code(), Toast.LENGTH_SHORT).show();&#10;                }&#10;&#10;                // Mark packages as loaded&#10;                packagesLoaded = true;&#10;                checkAndHideLoading();&#10;            }&#10;&#10;            @Override&#10;            public void onFailure(@NonNull Call&lt;PackagesResponse&gt; call, @NonNull Throwable t) {&#10;                Log.e(TAG, &quot;Packages fetch error: &quot; + t.getMessage(), t);&#10;                Toast.makeText(getContext(), &quot;Lỗi kết nối: &quot; + t.getMessage(), Toast.LENGTH_SHORT).show();&#10;&#10;                // Mark packages as loaded even on failure&#10;                packagesLoaded = true;&#10;                checkAndHideLoading();&#10;            }&#10;        });&#10;    }&#10;&#10;    private void loadVehicleSubscriptions() {&#10;        Log.d(TAG, &quot;loadVehicleSubscriptions: Starting to load vehicle subscriptions&quot;);&#10;        vehicleSubscriptionsLoaded = false;&#10;&#10;        // First, get the customer ID from the profile (through userId -&gt; customerId)&#10;        tokenHelper.getCustomerIdFromProfile(new TokenHelper.CustomerIdCallback() {&#10;            @Override&#10;            public void onCustomerIdRetrieved(String customerId) {&#10;                Log.d(TAG, &quot;Retrieved customerId: &quot; + customerId);&#10;                if (customerId != null &amp;&amp; !customerId.isEmpty()) {&#10;                    // Get token and fetch vehicle subscriptions&#10;                    tokenHelper.getTokenAndExecute(new TokenHelper.TokenCallback() {&#10;                        @Override&#10;                        public void onTokenRetrieved(String token) {&#10;                            if (token != null &amp;&amp; !token.isEmpty()) {&#10;                                fetchVehicleSubscriptions(&quot;Bearer &quot; + token, customerId);&#10;                            } else {&#10;                                Log.e(TAG, &quot;No token found for vehicle subscriptions&quot;);&#10;                                vehicleSubscriptionsLoaded = true;&#10;                                checkAndHideLoading();&#10;                            }&#10;                        }&#10;                    });&#10;                } else {&#10;                    Log.e(TAG, &quot;No customerId found, cannot load vehicle subscriptions&quot;);&#10;                    vehicleSubscriptionsLoaded = true;&#10;                    checkAndHideLoading();&#10;                }&#10;            }&#10;        });&#10;    }&#10;&#10;    private void fetchVehicleSubscriptions(String authHeader, String customerId) {&#10;        Log.d(TAG, &quot;fetchVehicleSubscriptions: Making API call for customerId: &quot; + customerId);&#10;&#10;        com.example.prm_assignment.data.remote.VehicleSubscriptionRetrofitClient&#10;                .getInstance()&#10;                .getVehicleSubscriptionApi()&#10;                .getCustomerSubscriptions(customerId, authHeader)&#10;                .enqueue(new Callback&lt;com.example.prm_assignment.data.model.VehicleSubscriptionResponse&gt;() {&#10;                    @Override&#10;                    public void onResponse(@NonNull Call&lt;com.example.prm_assignment.data.model.VehicleSubscriptionResponse&gt; call,&#10;                                           @NonNull Response&lt;com.example.prm_assignment.data.model.VehicleSubscriptionResponse&gt; response) {&#10;                        Log.d(TAG, &quot;Vehicle subscriptions API response received: &quot; + response.code());&#10;                        Log.d(TAG, &quot;Request URL: &quot; + call.request().url());&#10;&#10;                        if (response.isSuccessful() &amp;&amp; response.body() != null) {&#10;                            com.example.prm_assignment.data.model.VehicleSubscriptionResponse subscriptionResponse = response.body();&#10;                            if (subscriptionResponse.isSuccess() &amp;&amp; subscriptionResponse.getData() != null) {&#10;                                Log.d(TAG, &quot;Loaded &quot; + subscriptionResponse.getData().size() + &quot; vehicle subscriptions&quot;);&#10;&#10;                                // Clear existing cards&#10;                                if (llVehicleSubscriptionsContainer != null) {&#10;                                    llVehicleSubscriptionsContainer.removeAllViews();&#10;                                }&#10;&#10;                                // Add each subscription as a card&#10;                                for (com.example.prm_assignment.data.model.VehicleSubscriptionResponse.VehicleSubscription subscription : subscriptionResponse.getData()) {&#10;                                    addVehicleSubscriptionCard(subscription);&#10;                                }&#10;                            } else {&#10;                                Log.w(TAG, &quot;Vehicle subscriptions response unsuccessful or data is null&quot;);&#10;                            }&#10;                        } else {&#10;                            Log.e(TAG, &quot;Vehicle subscriptions fetch failed: &quot; + response.code());&#10;                            try {&#10;                                if (response.errorBody() != null) {&#10;                                    String errorBody = response.errorBody().string();&#10;                                    Log.e(TAG, &quot;Error body: &quot; + errorBody);&#10;                                }&#10;                            } catch (Exception e) {&#10;                                Log.e(TAG, &quot;Error reading error body&quot;, e);&#10;                            }&#10;                        }&#10;&#10;                        vehicleSubscriptionsLoaded = true;&#10;                        checkAndHideLoading();&#10;                    }&#10;&#10;                    @Override&#10;                    public void onFailure(@NonNull Call&lt;com.example.prm_assignment.data.model.VehicleSubscriptionResponse&gt; call,&#10;                                          @NonNull Throwable t) {&#10;                        Log.e(TAG, &quot;Vehicle subscriptions fetch error: &quot; + t.getMessage(), t);&#10;                        Log.e(TAG, &quot;Error type: &quot; + t.getClass().getName());&#10;                        if (t.getCause() != null) {&#10;                            Log.e(TAG, &quot;Cause: &quot; + t.getCause().getMessage());&#10;                        }&#10;&#10;                        vehicleSubscriptionsLoaded = true;&#10;                        checkAndHideLoading();&#10;&#10;                        // Show user-friendly error message&#10;                        if (getActivity() != null) {&#10;                            getActivity().runOnUiThread(() -&gt;&#10;                                Toast.makeText(getContext(),&#10;                                    &quot;Không thể tải thông tin gói xe. Vui lòng thử lại sau.&quot;,&#10;                                    Toast.LENGTH_SHORT).show()&#10;                            );&#10;                        }&#10;                    }&#10;                });&#10;    }&#10;&#10;    private void addVehicleSubscriptionCard(com.example.prm_assignment.data.model.VehicleSubscriptionResponse.VehicleSubscription subscription) {&#10;        if (llVehicleSubscriptionsContainer == null) {&#10;            Log.e(TAG, &quot;llVehicleSubscriptionsContainer is null, cannot add card&quot;);&#10;            return;&#10;        }&#10;&#10;        // Inflate the vehicle subscription card layout&#10;        View cardView = LayoutInflater.from(getContext()).inflate(R.layout.item_vehicle_subscription, llVehicleSubscriptionsContainer, false);&#10;&#10;        // Find views in the card&#10;        ImageView ivVehicleImage = cardView.findViewById(R.id.ivVehicleImage);&#10;        TextView tvVehicleName = cardView.findViewById(R.id.tvVehicleName);&#10;        TextView tvVehicleModel = cardView.findViewById(R.id.tvVehicleModel);&#10;        TextView tvPackageName = cardView.findViewById(R.id.tvPackageName);&#10;        TextView tvSubscriptionStatus = cardView.findViewById(R.id.tvSubscriptionStatus);&#10;        TextView tvKmInterval = cardView.findViewById(R.id.tvKmInterval);&#10;        TextView tvDateRange = cardView.findViewById(R.id.tvDateRange);&#10;        ProgressBar progressBar = cardView.findViewById(R.id.progressBar);&#10;&#10;        // Set vehicle data&#10;        if (subscription.getVehicleInfo() != null) {&#10;            // Load vehicle image using Glide&#10;            if (subscription.getVehicleInfo().getImageUrl() != null &amp;&amp; !subscription.getVehicleInfo().getImageUrl().isEmpty()) {&#10;                com.bumptech.glide.Glide.with(this)&#10;                        .load(subscription.getVehicleInfo().getImageUrl())&#10;                        .placeholder(android.R.drawable.ic_menu_directions)&#10;                        .error(android.R.drawable.ic_menu_directions)&#10;                        .centerCrop()&#10;                        .into(ivVehicleImage);&#10;                // Remove tint when showing real image&#10;                ivVehicleImage.setImageTintList(null);&#10;            } else {&#10;                // Use default icon with tint&#10;                ivVehicleImage.setImageResource(android.R.drawable.ic_menu_directions);&#10;                ivVehicleImage.setImageTintList(android.content.res.ColorStateList.valueOf(&#10;                        getResources().getColor(android.R.color.holo_green_dark, null)));&#10;            }&#10;&#10;            tvVehicleName.setText(subscription.getVehicleInfo().getVehicleName() != null&#10;                    ? subscription.getVehicleInfo().getVehicleName() : &quot;N/A&quot;);&#10;            tvVehicleModel.setText(&quot;Model: &quot; + (subscription.getVehicleInfo().getModel() != null&#10;                    ? subscription.getVehicleInfo().getModel() : &quot;N/A&quot;));&#10;        }&#10;&#10;        // Set package data&#10;        if (subscription.getPackageInfo() != null) {&#10;            tvPackageName.setText(subscription.getPackageInfo().getName() != null&#10;                    ? subscription.getPackageInfo().getName() : &quot;N/A&quot;);&#10;            tvKmInterval.setText(String.format(Locale.getDefault(), &quot;%,d km&quot;,&#10;                    subscription.getPackageInfo().getKmInterval()));&#10;        }&#10;&#10;        // Calculate days remaining&#10;        if (subscription.getEndDate() != null) {&#10;            try {&#10;                java.text.SimpleDateFormat sdf = new java.text.SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;, Locale.getDefault());&#10;                sdf.setTimeZone(java.util.TimeZone.getTimeZone(&quot;UTC&quot;));&#10;                java.util.Date endDate = sdf.parse(subscription.getEndDate());&#10;                java.util.Date now = new java.util.Date();&#10;&#10;                if (endDate != null) {&#10;                    long diffInMillis = endDate.getTime() - now.getTime();&#10;                    long daysRemaining = java.util.concurrent.TimeUnit.MILLISECONDS.toDays(diffInMillis);&#10;&#10;                    if (daysRemaining &gt; 0) {&#10;                        tvSubscriptionStatus.setText(String.format(Locale.getDefault(), &quot;Còn %d ngày&quot;, daysRemaining));&#10;&#10;                        // Set progress and color based on days remaining&#10;                        int totalDays = subscription.getPackageInfo() != null ? subscription.getPackageInfo().getDuration() : 30;&#10;                        int progress = (int) ((daysRemaining * 100) / totalDays);&#10;                        progressBar.setProgress(Math.min(100, Math.max(0, progress)));&#10;&#10;                        // Change color based on urgency&#10;                        if (daysRemaining &lt;= 7) {&#10;                            tvSubscriptionStatus.setTextColor(getResources().getColor(android.R.color.holo_red_dark, null));&#10;                            progressBar.setProgressTintList(android.content.res.ColorStateList.valueOf(&#10;                                    getResources().getColor(android.R.color.holo_red_dark, null)));&#10;                        } else if (daysRemaining &lt;= 15) {&#10;                            tvSubscriptionStatus.setTextColor(getResources().getColor(android.R.color.holo_orange_dark, null));&#10;                            progressBar.setProgressTintList(android.content.res.ColorStateList.valueOf(&#10;                                    getResources().getColor(android.R.color.holo_orange_dark, null)));&#10;                        } else {&#10;                            tvSubscriptionStatus.setTextColor(getResources().getColor(android.R.color.holo_green_dark, null));&#10;                            progressBar.setProgressTintList(android.content.res.ColorStateList.valueOf(&#10;                                    getResources().getColor(android.R.color.holo_green_dark, null)));&#10;                        }&#10;                    } else {&#10;                        tvSubscriptionStatus.setText(&quot;Hết hạn&quot;);&#10;                        tvSubscriptionStatus.setTextColor(getResources().getColor(android.R.color.holo_red_dark, null));&#10;                        progressBar.setProgress(0);&#10;                    }&#10;                }&#10;            } catch (java.text.ParseException e) {&#10;                Log.e(TAG, &quot;Error parsing end date&quot;, e);&#10;                tvSubscriptionStatus.setText(&quot;N/A&quot;);&#10;            }&#10;        }&#10;&#10;        // Format and display date range&#10;        if (subscription.getStartDate() != null &amp;&amp; subscription.getEndDate() != null) {&#10;            try {&#10;                java.text.SimpleDateFormat inputFormat = new java.text.SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;, Locale.getDefault());&#10;                java.text.SimpleDateFormat outputFormat = new java.text.SimpleDateFormat(&quot;dd/MM/yyyy&quot;, Locale.getDefault());&#10;                inputFormat.setTimeZone(java.util.TimeZone.getTimeZone(&quot;UTC&quot;));&#10;&#10;                java.util.Date startDate = inputFormat.parse(subscription.getStartDate());&#10;                java.util.Date endDate = inputFormat.parse(subscription.getEndDate());&#10;&#10;                if (startDate != null &amp;&amp; endDate != null) {&#10;                    String dateRange = outputFormat.format(startDate) + &quot; - &quot; + outputFormat.format(endDate);&#10;                    tvDateRange.setText(dateRange);&#10;                }&#10;            } catch (java.text.ParseException e) {&#10;                Log.e(TAG, &quot;Error parsing dates&quot;, e);&#10;                tvDateRange.setText(&quot;N/A&quot;);&#10;            }&#10;        }&#10;&#10;        // Add click listener&#10;        cardView.setOnClickListener(v -&gt; {&#10;            Toast.makeText(getContext(), &quot;Chi tiết: &quot; + subscription.getVehicleInfo().getVehicleName(), Toast.LENGTH_SHORT).show();&#10;        });&#10;&#10;        // Add card to container&#10;        llVehicleSubscriptionsContainer.addView(cardView);&#10;    }&#10;&#10;    private void showPaymentDialog(PackageModel packageModel) {&#10;        // Inflate dialog layout&#10;        View dialogView = LayoutInflater.from(getContext()).inflate(R.layout.dialog_payment_package, null);&#10;&#10;        AlertDialog.Builder builder = new AlertDialog.Builder(getContext());&#10;        builder.setView(dialogView);&#10;        AlertDialog dialog = builder.create();&#10;&#10;        // Initialize dialog views&#10;        TextView tvPackageNameDialog = dialogView.findViewById(R.id.tvPackageNameDialog);&#10;        TextView tvPackageDescription = dialogView.findViewById(R.id.tvPackageDescription);&#10;        TextView tvPackageDuration = dialogView.findViewById(R.id.tvPackageDuration);&#10;        TextView tvPackageKmInterval = dialogView.findViewById(R.id.tvPackageKmInterval);&#10;        TextView tvPackagePriceDialog = dialogView.findViewById(R.id.tvPackagePriceDialog);&#10;        TextView tvTotalPrice = dialogView.findViewById(R.id.tvTotalPrice);&#10;        Spinner spinnerVehicle = dialogView.findViewById(R.id.spinnerVehicle);&#10;        RadioGroup rgPaymentMethod = dialogView.findViewById(R.id.rgPaymentMethod);&#10;        Button btnCancel = dialogView.findViewById(R.id.btnCancel);&#10;        Button btnConfirmPayment = dialogView.findViewById(R.id.btnConfirmPayment);&#10;        FrameLayout loadingOverlayDialog = dialogView.findViewById(R.id.loadingOverlayDialog);&#10;&#10;        // Set package data&#10;        tvPackageNameDialog.setText(packageModel.getName());&#10;        tvPackageDescription.setText(packageModel.getDescription() != null ? packageModel.getDescription() : &quot;Gói dịch vụ bảo dưỡng xe&quot;);&#10;        tvPackageDuration.setText(String.format(Locale.getDefault(), &quot;%d ngày&quot;, packageModel.getDuration()));&#10;        tvPackageKmInterval.setText(String.format(Locale.getDefault(), &quot;%,d km&quot;, packageModel.getKmInterval()));&#10;&#10;        NumberFormat formatter = NumberFormat.getNumberInstance(new Locale(&quot;vi&quot;, &quot;VN&quot;));&#10;        String formattedPrice = formatter.format(packageModel.getPrice()) + &quot; VND&quot;;&#10;        tvPackagePriceDialog.setText(formattedPrice);&#10;        tvTotalPrice.setText(formattedPrice);&#10;&#10;        // Load vehicles&#10;        loadingOverlayDialog.setVisibility(View.VISIBLE);&#10;        loadVehiclesForDialog(spinnerVehicle, loadingOverlayDialog);&#10;&#10;        // Cancel button&#10;        btnCancel.setOnClickListener(v -&gt; dialog.dismiss());&#10;&#10;        // Confirm payment button&#10;        btnConfirmPayment.setOnClickListener(v -&gt; {&#10;            if (vehiclesList.isEmpty()) {&#10;                Toast.makeText(getContext(), &quot;Vui lòng thêm xe trước khi đăng ký gói&quot;, Toast.LENGTH_SHORT).show();&#10;                return;&#10;            }&#10;&#10;            int selectedPosition = spinnerVehicle.getSelectedItemPosition();&#10;            if (selectedPosition &lt; 0 || selectedPosition &gt;= vehiclesList.size()) {&#10;                Toast.makeText(getContext(), &quot;Vui lòng chọn xe&quot;, Toast.LENGTH_SHORT).show();&#10;                return;&#10;            }&#10;&#10;            VehicleModel selectedVehicle = vehiclesList.get(selectedPosition);&#10;            String paymentMethod = getSelectedPaymentMethod(rgPaymentMethod);&#10;&#10;            // Show loading&#10;            loadingOverlayDialog.setVisibility(View.VISIBLE);&#10;            btnConfirmPayment.setEnabled(false);&#10;&#10;            // Create subscription&#10;            createSubscription(packageModel, selectedVehicle, paymentMethod, dialog, loadingOverlayDialog, btnConfirmPayment);&#10;        });&#10;&#10;        dialog.show();&#10;    }&#10;&#10;    private void loadVehiclesForDialog(Spinner spinnerVehicle, FrameLayout loadingOverlay) {&#10;        tokenHelper.getTokenAndExecute(token -&gt; {&#10;            if (token != null &amp;&amp; !token.isEmpty()) {&#10;                vehiclesApi.getMyVehicles(&quot;Bearer &quot; + token).enqueue(new Callback&lt;VehicleResponse&gt;() {&#10;                    @Override&#10;                    public void onResponse(@NonNull Call&lt;VehicleResponse&gt; call, @NonNull Response&lt;VehicleResponse&gt; response) {&#10;                        loadingOverlay.setVisibility(View.GONE);&#10;                        if (response.isSuccessful() &amp;&amp; response.body() != null) {&#10;                            VehicleResponse vehicleResponse = response.body();&#10;                            if (vehicleResponse.isSuccess() &amp;&amp; vehicleResponse.getData() != null) {&#10;                                vehiclesList.clear();&#10;                                vehiclesList.addAll(vehicleResponse.getData());&#10;&#10;                                // Create adapter for spinner&#10;                                List&lt;String&gt; vehicleNames = new ArrayList&lt;&gt;();&#10;                                for (VehicleModel vehicle : vehiclesList) {&#10;                                    vehicleNames.add(vehicle.getVehicleName() + &quot; - &quot; + vehicle.getPlateNumber());&#10;                                }&#10;&#10;                                ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(&#10;                                        getContext(),&#10;                                        android.R.layout.simple_spinner_item,&#10;                                        vehicleNames&#10;                                );&#10;                                adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);&#10;                                spinnerVehicle.setAdapter(adapter);&#10;                            } else {&#10;                                Toast.makeText(getContext(), &quot;Không tìm thấy xe nào&quot;, Toast.LENGTH_SHORT).show();&#10;                            }&#10;                        } else {&#10;                            Toast.makeText(getContext(), &quot;Không thể tải danh sách xe&quot;, Toast.LENGTH_SHORT).show();&#10;                        }&#10;                    }&#10;&#10;                    @Override&#10;                    public void onFailure(@NonNull Call&lt;VehicleResponse&gt; call, @NonNull Throwable t) {&#10;                        loadingOverlay.setVisibility(View.GONE);&#10;                        Log.e(TAG, &quot;Error loading vehicles: &quot; + t.getMessage(), t);&#10;                        Toast.makeText(getContext(), &quot;Lỗi kết nối: &quot; + t.getMessage(), Toast.LENGTH_SHORT).show();&#10;                    }&#10;                });&#10;            } else {&#10;                loadingOverlay.setVisibility(View.GONE);&#10;                Toast.makeText(getContext(), &quot;Vui lòng đăng nhập&quot;, Toast.LENGTH_SHORT).show();&#10;            }&#10;        });&#10;    }&#10;&#10;    private String getSelectedPaymentMethod(RadioGroup rgPaymentMethod) {&#10;        int selectedId = rgPaymentMethod.getCheckedRadioButtonId();&#10;        if (selectedId == R.id.rbCash) {&#10;            return &quot;Tiền mặt&quot;;&#10;        } else if (selectedId == R.id.rbMomo) {&#10;            return &quot;Ví MoMo&quot;;&#10;        } else if (selectedId == R.id.rbBankTransfer) {&#10;            return &quot;Chuyển khoản ngân hàng&quot;;&#10;        }&#10;        return &quot;Tiền mặt&quot;;&#10;    }&#10;&#10;    private void createSubscription(PackageModel packageModel, VehicleModel vehicle, String paymentMethod,&#10;                                     AlertDialog dialog, FrameLayout loadingOverlay, Button btnConfirmPayment) {&#10;        tokenHelper.getTokenAndExecute(token -&gt; {&#10;            if (token != null &amp;&amp; !token.isEmpty()) {&#10;                // Calculate dates&#10;                SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;, Locale.getDefault());&#10;                sdf.setTimeZone(java.util.TimeZone.getTimeZone(&quot;UTC&quot;));&#10;&#10;                Date startDate = new Date();&#10;                Calendar calendar = Calendar.getInstance();&#10;                calendar.setTime(startDate);&#10;                calendar.add(Calendar.DAY_OF_YEAR, packageModel.getDuration());&#10;                Date endDate = calendar.getTime();&#10;&#10;                // Create request&#10;                CreateSubscriptionRequest request = new CreateSubscriptionRequest();&#10;                request.setVehicleId(vehicle.getId());&#10;                request.setPackageId(packageModel.getId());&#10;                request.setStartDate(sdf.format(startDate));&#10;                request.setEndDate(sdf.format(endDate));&#10;&#10;                Log.d(TAG, &quot;Creating subscription: vehicleId=&quot; + vehicle.getId() + &quot;, packageId=&quot; + packageModel.getId());&#10;&#10;                vehicleSubscriptionApi.createSubscription(&quot;Bearer &quot; + token, request)&#10;                        .enqueue(new Callback&lt;SingleSubscriptionResponse&gt;() {&#10;                            @Override&#10;                            public void onResponse(@NonNull Call&lt;SingleSubscriptionResponse&gt; call,&#10;                                                   @NonNull Response&lt;SingleSubscriptionResponse&gt; response) {&#10;                                loadingOverlay.setVisibility(View.GONE);&#10;                                btnConfirmPayment.setEnabled(true);&#10;&#10;                                if (response.isSuccessful() &amp;&amp; response.body() != null) {&#10;                                    SingleSubscriptionResponse subscriptionResponse = response.body();&#10;                                    if (subscriptionResponse.isSuccess()) {&#10;                                        Toast.makeText(getContext(),&#10;                                                &quot;Thanh toán thành công! Gói đã được kích hoạt.&quot;,&#10;                                                Toast.LENGTH_LONG).show();&#10;                                        dialog.dismiss();&#10;&#10;                                        // Reload vehicle subscriptions to show the new one&#10;                                        loadVehicleSubscriptions();&#10;                                    } else {&#10;                                        Toast.makeText(getContext(),&#10;                                                &quot;Lỗi: &quot; + subscriptionResponse.getMessage(),&#10;                                                Toast.LENGTH_SHORT).show();&#10;                                    }&#10;                                } else {&#10;                                    try {&#10;                                        String errorBody = response.errorBody() != null ? response.errorBody().string() : &quot;Unknown error&quot;;&#10;                                        Log.e(TAG, &quot;Error creating subscription: &quot; + errorBody);&#10;                                        Toast.makeText(getContext(),&#10;                                                &quot;Không thể tạo gói: &quot; + response.code(),&#10;                                                Toast.LENGTH_SHORT).show();&#10;                                    } catch (Exception e) {&#10;                                        Log.e(TAG, &quot;Error reading error body&quot;, e);&#10;                                        Toast.makeText(getContext(),&#10;                                                &quot;Không thể tạo gói&quot;,&#10;                                                Toast.LENGTH_SHORT).show();&#10;                                    }&#10;                                }&#10;                            }&#10;&#10;                            @Override&#10;                            public void onFailure(@NonNull Call&lt;SingleSubscriptionResponse&gt; call, @NonNull Throwable t) {&#10;                                loadingOverlay.setVisibility(View.GONE);&#10;                                btnConfirmPayment.setEnabled(true);&#10;                                Log.e(TAG, &quot;Error creating subscription: &quot; + t.getMessage(), t);&#10;                                Toast.makeText(getContext(),&#10;                                        &quot;Lỗi kết nối: &quot; + t.getMessage(),&#10;                                        Toast.LENGTH_SHORT).show();&#10;                            }&#10;                        });&#10;            } else {&#10;                loadingOverlay.setVisibility(View.GONE);&#10;                btnConfirmPayment.setEnabled(true);&#10;                Toast.makeText(getContext(), &quot;Vui lòng đăng nhập&quot;, Toast.LENGTH_SHORT).show();&#10;            }&#10;        });&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.example.prm_assignment.ui.fragments;&#10;&#10;import android.annotation.SuppressLint;&#10;import android.app.AlertDialog;&#10;import android.os.Bundle;&#10;import android.os.Handler;&#10;import android.os.Looper;&#10;import android.util.Log;&#10;import android.view.LayoutInflater;&#10;import android.view.MotionEvent;&#10;import android.view.View;&#10;import android.view.ViewGroup;&#10;import android.widget.ArrayAdapter;&#10;import android.widget.Button;&#10;import android.widget.FrameLayout;&#10;import android.widget.ImageView;&#10;import android.widget.LinearLayout;&#10;import android.widget.ProgressBar;&#10;import android.widget.RadioGroup;&#10;import android.widget.Spinner;&#10;import android.widget.TextView;&#10;import android.widget.Toast;&#10;&#10;import androidx.annotation.NonNull;&#10;import androidx.annotation.Nullable;&#10;import androidx.cardview.widget.CardView;&#10;import androidx.fragment.app.Fragment;&#10;&#10;import com.example.prm_assignment.R;&#10;import com.example.prm_assignment.data.TokenHelper;&#10;import com.example.prm_assignment.data.model.CreateSubscriptionRequest;&#10;import com.example.prm_assignment.data.model.PackageModel;&#10;import com.example.prm_assignment.data.model.PackagesResponse;&#10;import com.example.prm_assignment.data.model.ProfileResponse;&#10;import com.example.prm_assignment.data.model.SingleSubscriptionResponse;&#10;import com.example.prm_assignment.data.model.VehicleModel;&#10;import com.example.prm_assignment.data.model.VehicleResponse;&#10;import com.example.prm_assignment.data.remote.PackagesApi;&#10;import com.example.prm_assignment.data.remote.PackagesRetrofitClient;&#10;import com.example.prm_assignment.data.remote.ProfileApi;&#10;import com.example.prm_assignment.data.remote.ProfileRetrofitClient;&#10;import com.example.prm_assignment.data.remote.VehiclesApi;&#10;import com.example.prm_assignment.data.remote.VehiclesRetrofitClient;&#10;import com.example.prm_assignment.data.remote.VehicleSubscriptionApi;&#10;import com.example.prm_assignment.data.remote.VehicleSubscriptionRetrofitClient;&#10;&#10;import java.text.NumberFormat;&#10;import java.text.SimpleDateFormat;&#10;import java.util.ArrayList;&#10;import java.util.Calendar;&#10;import java.util.Date;&#10;import java.util.List;&#10;import java.util.Locale;&#10;import retrofit2.Call;&#10;import retrofit2.Callback;&#10;import retrofit2.Response;&#10;&#10;public class HomeFragment extends Fragment {&#10;    private static final String TAG = &quot;HomeFragment&quot;;&#10;&#10;    private float dX, dY;&#10;    private int lastAction;&#10;&#10;    private TextView tvGreeting;&#10;    private TextView tvCountry;&#10;    private LinearLayout llPackagesContainer;&#10;    private LinearLayout llVehicleSubscriptionsContainer;&#10;    private FrameLayout loadingOverlay;&#10;    private TokenHelper tokenHelper;&#10;    private PackagesApi packagesApi;&#10;    private ProfileApi profileApi;&#10;    private VehiclesApi vehiclesApi;&#10;    private VehicleSubscriptionApi vehicleSubscriptionApi;&#10;    private List&lt;VehicleModel&gt; vehiclesList = new ArrayList&lt;&gt;();&#10;&#10;    // Track loading states&#10;    private boolean profileLoaded = false;&#10;    private boolean packagesLoaded = false;&#10;    private boolean vehicleSubscriptionsLoaded = false;&#10;&#10;    @SuppressLint(&quot;ClickableViewAccessibility&quot;)&#10;    @Nullable&#10;    @Override&#10;    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {&#10;        View view = inflater.inflate(R.layout.fragment_home, container, false);&#10;&#10;        // Initialize TokenHelper and API&#10;        tokenHelper = new TokenHelper(requireContext());&#10;        packagesApi = PackagesRetrofitClient.getInstance().getPackagesApi();&#10;        profileApi = ProfileRetrofitClient.getInstance().getProfileApi();&#10;        vehiclesApi = VehiclesRetrofitClient.getInstance().getVehiclesApi();&#10;        vehicleSubscriptionApi = VehicleSubscriptionRetrofitClient.getInstance().getVehicleSubscriptionApi();&#10;&#10;        // Initialize views&#10;        tvGreeting = view.findViewById(R.id.tvGreeting);&#10;        tvCountry = view.findViewById(R.id.tvCountry);&#10;        llPackagesContainer = view.findViewById(R.id.llPackagesContainer);&#10;        llVehicleSubscriptionsContainer = view.findViewById(R.id.llVehicleSubscriptionsContainer);&#10;        loadingOverlay = view.findViewById(R.id.loadingOverlay);&#10;&#10;        // Check if views are found&#10;        if (tvGreeting == null) {&#10;            Log.e(TAG, &quot;tvGreeting is null!&quot;);&#10;        }&#10;        if (tvCountry == null) {&#10;            Log.e(TAG, &quot;tvCountry is null!&quot;);&#10;        }&#10;        if (llPackagesContainer == null) {&#10;            Log.e(TAG, &quot;llPackagesContainer is null!&quot;);&#10;        } else {&#10;            Log.d(TAG, &quot;llPackagesContainer found&quot;);&#10;        }&#10;&#10;        // Show loading at start&#10;        showLoading();&#10;&#10;        // Initialize chat bubble&#10;        CardView chatBubble = view.findViewById(R.id.chatBubble);&#10;        if (chatBubble == null) {&#10;            Log.w(TAG, &quot;chatBubble not found in layout&quot;);&#10;        } else {&#10;            chatBubble.setOnTouchListener((v, event) -&gt; {&#10;                switch (event.getActionMasked()) {&#10;                    case MotionEvent.ACTION_DOWN:&#10;                        dX = v.getX() - event.getRawX();&#10;                        dY = v.getY() - event.getRawY();&#10;                        lastAction = MotionEvent.ACTION_DOWN;&#10;                        // Scale down slightly when pressed for visual feedback&#10;                        v.animate().scaleX(0.9f).scaleY(0.9f).setDuration(100).start();&#10;                        break;&#10;&#10;                    case MotionEvent.ACTION_MOVE:&#10;                        // Calculate new position&#10;                        float newX = event.getRawX() + dX;&#10;                        float newY = event.getRawY() + dY;&#10;&#10;                        // Get parent dimensions for boundary checking&#10;                        ViewGroup parent = (ViewGroup) v.getParent();&#10;                        if (parent != null) {&#10;                            // Constrain X within parent bounds&#10;                            float maxX = parent.getWidth() - v.getWidth();&#10;                            newX = Math.max(0, Math.min(newX, maxX));&#10;&#10;                            // Constrain Y within parent bounds&#10;                            float maxY = parent.getHeight() - v.getHeight();&#10;                            newY = Math.max(0, Math.min(newY, maxY));&#10;                        }&#10;&#10;                        // Apply smooth movement with animation&#10;                        v.animate()&#10;                            .x(newX)&#10;                            .y(newY)&#10;                            .setDuration(0)&#10;                            .start();&#10;&#10;                        lastAction = MotionEvent.ACTION_MOVE;&#10;                        break;&#10;&#10;                    case MotionEvent.ACTION_UP:&#10;                        // Scale back to normal&#10;                        v.animate().scaleX(1f).scaleY(1f).setDuration(100).start();&#10;&#10;                        if (lastAction == MotionEvent.ACTION_DOWN) {&#10;                            // This was a click, not a drag&#10;                            v.performClick();&#10;                            Toast.makeText(getContext(), &quot;Chat đang được phát triển&quot;, Toast.LENGTH_SHORT).show();&#10;                        }&#10;                        break;&#10;&#10;                    default:&#10;                        return false;&#10;                }&#10;                return true;&#10;            });&#10;        }&#10;&#10;        // Load data from API&#10;        loadProfileData();&#10;        loadPackagesData();&#10;        loadVehicleSubscriptions();&#10;&#10;        return view;&#10;    }&#10;&#10;    private void showLoading() {&#10;        if (loadingOverlay != null) {&#10;            loadingOverlay.setVisibility(View.VISIBLE);&#10;            Log.d(TAG, &quot;Loading overlay shown&quot;);&#10;        }&#10;    }&#10;&#10;    private void hideLoading() {&#10;        if (loadingOverlay != null) {&#10;            loadingOverlay.setVisibility(View.GONE);&#10;            Log.d(TAG, &quot;Loading overlay hidden&quot;);&#10;        }&#10;    }&#10;&#10;    private void checkAndHideLoading() {&#10;        // Hide loading only when all data is loaded&#10;        if (profileLoaded &amp;&amp; packagesLoaded &amp;&amp; vehicleSubscriptionsLoaded) {&#10;            hideLoading();&#10;            Log.d(TAG, &quot;All data loaded, hiding loading overlay&quot;);&#10;        }&#10;    }&#10;&#10;    private void addPackageCard(PackageModel packageModel) {&#10;        if (llPackagesContainer == null) {&#10;            Log.e(TAG, &quot;llPackagesContainer is null, cannot add card&quot;);&#10;            return;&#10;        }&#10;&#10;        // Inflate the package card layout&#10;        View cardView = LayoutInflater.from(getContext()).inflate(R.layout.item_package, llPackagesContainer, false);&#10;&#10;        // Find views in the card&#10;        TextView tvPackageName = cardView.findViewById(R.id.tvPackageName);&#10;        TextView tvPackagePrice = cardView.findViewById(R.id.tvPackagePrice);&#10;        CardView btnBookNow = cardView.findViewById(R.id.btnBookNow);&#10;&#10;        // Set data&#10;        tvPackageName.setText(packageModel.getName());&#10;&#10;        // Format price&#10;        NumberFormat formatter = NumberFormat.getNumberInstance(new Locale(&quot;vi&quot;, &quot;VN&quot;));&#10;        String formattedPrice = formatter.format(packageModel.getPrice()) + &quot; VND&quot;;&#10;        tvPackagePrice.setText(formattedPrice);&#10;&#10;        // Set click listener&#10;        btnBookNow.setOnClickListener(v -&gt; {&#10;            showPaymentDialog(packageModel);&#10;        });&#10;&#10;        cardView.setOnClickListener(v -&gt; {&#10;            Toast.makeText(getContext(), &quot;Selected: &quot; + packageModel.getName(), Toast.LENGTH_SHORT).show();&#10;        });&#10;&#10;        // Add card to container&#10;        llPackagesContainer.addView(cardView);&#10;    }&#10;&#10;    private void loadProfileData() {&#10;        Log.d(TAG, &quot;loadProfileData: Starting to load profile&quot;);&#10;        profileLoaded = false;&#10;        tokenHelper.getTokenAndExecute(token -&gt; {&#10;            Log.d(TAG, &quot;Token retrieved: &quot; + (token != null ? &quot;Yes (length=&quot; + token.length() + &quot;)&quot; : &quot;No&quot;));&#10;            if (token != null &amp;&amp; !token.isEmpty()) {&#10;                fetchProfile(&quot;Bearer &quot; + token);&#10;            } else {&#10;                Log.e(TAG, &quot;No token found&quot;);&#10;                if (tvGreeting != null) {&#10;                    tvGreeting.setText(&quot;Xin chào, Khách&quot;);&#10;                }&#10;                // Mark as loaded even if failed&#10;                profileLoaded = true;&#10;                checkAndHideLoading();&#10;            }&#10;        });&#10;    }&#10;&#10;    private void fetchProfile(String authHeader) {&#10;        Log.d(TAG, &quot;fetchProfile: Making API call&quot;);&#10;        profileApi.getProfile(authHeader).enqueue(new Callback&lt;ProfileResponse&gt;() {&#10;            @Override&#10;            public void onResponse(@NonNull Call&lt;ProfileResponse&gt; call, @NonNull Response&lt;ProfileResponse&gt; response) {&#10;                Log.d(TAG, &quot;Profile API response received: &quot; + response.code());&#10;                if (response.isSuccessful() &amp;&amp; response.body() != null) {&#10;                    ProfileResponse profileResponse = response.body();&#10;                    if (profileResponse.isSuccess() &amp;&amp; profileResponse.getData() != null) {&#10;                        String customerName = profileResponse.getData().getCustomerName();&#10;                        String address = profileResponse.getData().getAddress();&#10;                        Log.d(TAG, &quot;Customer name from API: &quot; + customerName);&#10;                        Log.d(TAG, &quot;Address from API: &quot; + address);&#10;&#10;                        if (tvGreeting != null) {&#10;                            if (customerName != null &amp;&amp; !customerName.isEmpty()) {&#10;                                tvGreeting.setText(&quot;Xin chào, &quot; + customerName);&#10;                            } else {&#10;                                tvGreeting.setText(&quot;Xin chào, Khách hàng&quot;);&#10;                            }&#10;                        }&#10;&#10;                        if (tvCountry != null) {&#10;                            if (address != null &amp;&amp; !address.isEmpty()) {&#10;                                tvCountry.setText(address);&#10;                            } else {&#10;                                tvCountry.setText(&quot;Việt Nam&quot;);&#10;                            }&#10;                        }&#10;                    } else {&#10;                        Log.w(TAG, &quot;Profile response unsuccessful or data is null&quot;);&#10;                        if (tvGreeting != null) {&#10;                            tvGreeting.setText(&quot;Xin chào, Khách hàng&quot;);&#10;                        }&#10;                        if (tvCountry != null) {&#10;                            tvCountry.setText(&quot;Việt Nam&quot;);&#10;                        }&#10;                    }&#10;                } else {&#10;                    Log.e(TAG, &quot;Profile fetch failed: &quot; + response.code());&#10;                    if (tvGreeting != null) {&#10;                        tvGreeting.setText(&quot;Xin chào, Khách hàng&quot;);&#10;                    }&#10;                    if (tvCountry != null) {&#10;                        tvCountry.setText(&quot;Việt Nam&quot;);&#10;                    }&#10;                }&#10;&#10;                // Mark profile as loaded&#10;                profileLoaded = true;&#10;                checkAndHideLoading();&#10;            }&#10;&#10;            @Override&#10;            public void onFailure(@NonNull Call&lt;ProfileResponse&gt; call, @NonNull Throwable t) {&#10;                Log.e(TAG, &quot;Profile fetch error: &quot; + t.getMessage(), t);&#10;                if (tvGreeting != null) {&#10;                    tvGreeting.setText(&quot;Xin chào, Khách hàng&quot;);&#10;                }&#10;                if (tvCountry != null) {&#10;                    tvCountry.setText(&quot;Việt Nam&quot;);&#10;                }&#10;&#10;                // Mark profile as loaded even on failure&#10;                profileLoaded = true;&#10;                checkAndHideLoading();&#10;            }&#10;        });&#10;    }&#10;&#10;    private void loadPackagesData() {&#10;        Log.d(TAG, &quot;loadPackagesData: Starting to load packages&quot;);&#10;        packagesLoaded = false;&#10;        tokenHelper.getTokenAndExecute(token -&gt; {&#10;            Log.d(TAG, &quot;Token retrieved for packages: &quot; + (token != null ? &quot;Yes&quot; : &quot;No&quot;));&#10;            if (token != null &amp;&amp; !token.isEmpty()) {&#10;                Log.d(TAG, &quot;Calling fetchPackages with token&quot;);&#10;                fetchPackages(&quot;Bearer &quot; + token);&#10;            } else {&#10;                Log.e(TAG, &quot;No token found for packages&quot;);&#10;                Toast.makeText(getContext(), &quot;Vui lòng đăng nhập&quot;, Toast.LENGTH_SHORT).show();&#10;                // Mark as loaded even if failed&#10;                packagesLoaded = true;&#10;                checkAndHideLoading();&#10;            }&#10;        });&#10;    }&#10;&#10;    private void fetchPackages(String authHeader) {&#10;        Log.d(TAG, &quot;fetchPackages: Making API call&quot;);&#10;        Log.d(TAG, &quot;Auth header: &quot; + authHeader.substring(0, Math.min(20, authHeader.length())) + &quot;...&quot;);&#10;        Log.d(TAG, &quot;Base URL: &quot; + com.example.prm_assignment.BuildConfig.BASE_URL);&#10;&#10;        packagesApi.getPackages(authHeader).enqueue(new Callback&lt;PackagesResponse&gt;() {&#10;            @Override&#10;            public void onResponse(@NonNull Call&lt;PackagesResponse&gt; call, @NonNull Response&lt;PackagesResponse&gt; response) {&#10;                Log.d(TAG, &quot;Packages API response received&quot;);&#10;                Log.d(TAG, &quot;Response code: &quot; + response.code());&#10;                Log.d(TAG, &quot;Response URL: &quot; + call.request().url());&#10;&#10;                if (response.isSuccessful() &amp;&amp; response.body() != null) {&#10;                    PackagesResponse packagesResponse = response.body();&#10;                    Log.d(TAG, &quot;Response successful: &quot; + packagesResponse.isSuccess());&#10;                    if (packagesResponse.isSuccess() &amp;&amp; packagesResponse.getData() != null) {&#10;                        Log.d(TAG, &quot;Loaded &quot; + packagesResponse.getData().size() + &quot; packages&quot;);&#10;&#10;                        // Clear existing cards&#10;                        if (llPackagesContainer != null) {&#10;                            llPackagesContainer.removeAllViews();&#10;                        }&#10;&#10;                        // Add each package as a card&#10;                        for (PackageModel packageModel : packagesResponse.getData()) {&#10;                            addPackageCard(packageModel);&#10;                        }&#10;&#10;//                        Toast.makeText(getContext(), &quot;Đã tải &quot; + packagesResponse.getData().size() + &quot; gói dịch vụ&quot;, Toast.LENGTH_SHORT).show();&#10;                    } else {&#10;                        Log.w(TAG, &quot;Response body empty or unsuccessful&quot;);&#10;                    }&#10;                } else {&#10;                    Log.e(TAG, &quot;Packages fetch failed: &quot; + response.code() + &quot; - &quot; + response.message());&#10;                    Toast.makeText(getContext(), &quot;Không thể tải gói dịch vụ: &quot; + response.code(), Toast.LENGTH_SHORT).show();&#10;                }&#10;&#10;                // Mark packages as loaded&#10;                packagesLoaded = true;&#10;                checkAndHideLoading();&#10;            }&#10;&#10;            @Override&#10;            public void onFailure(@NonNull Call&lt;PackagesResponse&gt; call, @NonNull Throwable t) {&#10;                Log.e(TAG, &quot;Packages fetch error: &quot; + t.getMessage(), t);&#10;                Toast.makeText(getContext(), &quot;Lỗi kết nối: &quot; + t.getMessage(), Toast.LENGTH_SHORT).show();&#10;&#10;                // Mark packages as loaded even on failure&#10;                packagesLoaded = true;&#10;                checkAndHideLoading();&#10;            }&#10;        });&#10;    }&#10;&#10;    private void loadVehicleSubscriptions() {&#10;        Log.d(TAG, &quot;loadVehicleSubscriptions: Starting to load vehicle subscriptions&quot;);&#10;        vehicleSubscriptionsLoaded = false;&#10;&#10;        // First, get the customer ID from the profile (through userId -&gt; customerId)&#10;        tokenHelper.getCustomerIdFromProfile(new TokenHelper.CustomerIdCallback() {&#10;            @Override&#10;            public void onCustomerIdRetrieved(String customerId) {&#10;                Log.d(TAG, &quot;Retrieved customerId: &quot; + customerId);&#10;                if (customerId != null &amp;&amp; !customerId.isEmpty()) {&#10;                    // Get token and fetch vehicle subscriptions&#10;                    tokenHelper.getTokenAndExecute(new TokenHelper.TokenCallback() {&#10;                        @Override&#10;                        public void onTokenRetrieved(String token) {&#10;                            if (token != null &amp;&amp; !token.isEmpty()) {&#10;                                fetchVehicleSubscriptions(&quot;Bearer &quot; + token, customerId);&#10;                            } else {&#10;                                Log.e(TAG, &quot;No token found for vehicle subscriptions&quot;);&#10;                                vehicleSubscriptionsLoaded = true;&#10;                                checkAndHideLoading();&#10;                            }&#10;                        }&#10;                    });&#10;                } else {&#10;                    Log.e(TAG, &quot;No customerId found, cannot load vehicle subscriptions&quot;);&#10;                    vehicleSubscriptionsLoaded = true;&#10;                    checkAndHideLoading();&#10;                }&#10;            }&#10;        });&#10;    }&#10;&#10;    private void fetchVehicleSubscriptions(String authHeader, String customerId) {&#10;        Log.d(TAG, &quot;fetchVehicleSubscriptions: Making API call for customerId: &quot; + customerId);&#10;&#10;        com.example.prm_assignment.data.remote.VehicleSubscriptionRetrofitClient&#10;                .getInstance()&#10;                .getVehicleSubscriptionApi()&#10;                .getCustomerSubscriptions(authHeader, customerId)&#10;                .enqueue(new Callback&lt;com.example.prm_assignment.data.model.VehicleSubscriptionResponse&gt;() {&#10;                    @Override&#10;                    public void onResponse(@NonNull Call&lt;com.example.prm_assignment.data.model.VehicleSubscriptionResponse&gt; call,&#10;                                           @NonNull Response&lt;com.example.prm_assignment.data.model.VehicleSubscriptionResponse&gt; response) {&#10;                        Log.d(TAG, &quot;Vehicle subscriptions API response received: &quot; + response.code());&#10;                        Log.d(TAG, &quot;Request URL: &quot; + call.request().url());&#10;&#10;                        if (response.isSuccessful() &amp;&amp; response.body() != null) {&#10;                            com.example.prm_assignment.data.model.VehicleSubscriptionResponse subscriptionResponse = response.body();&#10;                            if (subscriptionResponse.isSuccess() &amp;&amp; subscriptionResponse.getData() != null) {&#10;                                Log.d(TAG, &quot;Loaded &quot; + subscriptionResponse.getData().size() + &quot; vehicle subscriptions&quot;);&#10;&#10;                                // Clear existing cards&#10;                                if (llVehicleSubscriptionsContainer != null) {&#10;                                    llVehicleSubscriptionsContainer.removeAllViews();&#10;                                }&#10;&#10;                                // Add each subscription as a card&#10;                                for (com.example.prm_assignment.data.model.VehicleSubscriptionResponse.VehicleSubscription subscription : subscriptionResponse.getData()) {&#10;                                    addVehicleSubscriptionCard(subscription);&#10;                                }&#10;                            } else {&#10;                                Log.w(TAG, &quot;Vehicle subscriptions response unsuccessful or data is null&quot;);&#10;                            }&#10;                        } else {&#10;                            Log.e(TAG, &quot;Vehicle subscriptions fetch failed: &quot; + response.code());&#10;                            try {&#10;                                if (response.errorBody() != null) {&#10;                                    String errorBody = response.errorBody().string();&#10;                                    Log.e(TAG, &quot;Error body: &quot; + errorBody);&#10;                                }&#10;                            } catch (Exception e) {&#10;                                Log.e(TAG, &quot;Error reading error body&quot;, e);&#10;                            }&#10;                        }&#10;&#10;                        vehicleSubscriptionsLoaded = true;&#10;                        checkAndHideLoading();&#10;                    }&#10;&#10;                    @Override&#10;                    public void onFailure(@NonNull Call&lt;com.example.prm_assignment.data.model.VehicleSubscriptionResponse&gt; call,&#10;                                          @NonNull Throwable t) {&#10;                        Log.e(TAG, &quot;Vehicle subscriptions fetch error: &quot; + t.getMessage(), t);&#10;                        Log.e(TAG, &quot;Error type: &quot; + t.getClass().getName());&#10;                        if (t.getCause() != null) {&#10;                            Log.e(TAG, &quot;Cause: &quot; + t.getCause().getMessage());&#10;                        }&#10;&#10;                        vehicleSubscriptionsLoaded = true;&#10;                        checkAndHideLoading();&#10;&#10;                        // Show user-friendly error message&#10;                        if (getActivity() != null) {&#10;                            getActivity().runOnUiThread(() -&gt;&#10;                                Toast.makeText(getContext(),&#10;                                    &quot;Không thể tải thông tin gói xe. Vui lòng thử lại sau.&quot;,&#10;                                    Toast.LENGTH_SHORT).show()&#10;                            );&#10;                        }&#10;                    }&#10;                });&#10;    }&#10;&#10;    private void addVehicleSubscriptionCard(com.example.prm_assignment.data.model.VehicleSubscriptionResponse.VehicleSubscription subscription) {&#10;        if (llVehicleSubscriptionsContainer == null) {&#10;            Log.e(TAG, &quot;llVehicleSubscriptionsContainer is null, cannot add card&quot;);&#10;            return;&#10;        }&#10;&#10;        // Inflate the vehicle subscription card layout&#10;        View cardView = LayoutInflater.from(getContext()).inflate(R.layout.item_vehicle_subscription, llVehicleSubscriptionsContainer, false);&#10;&#10;        // Find views in the card&#10;        ImageView ivVehicleImage = cardView.findViewById(R.id.ivVehicleImage);&#10;        TextView tvVehicleName = cardView.findViewById(R.id.tvVehicleName);&#10;        TextView tvVehicleModel = cardView.findViewById(R.id.tvVehicleModel);&#10;        TextView tvPackageName = cardView.findViewById(R.id.tvPackageName);&#10;        TextView tvSubscriptionStatus = cardView.findViewById(R.id.tvSubscriptionStatus);&#10;        TextView tvKmInterval = cardView.findViewById(R.id.tvKmInterval);&#10;        TextView tvDateRange = cardView.findViewById(R.id.tvDateRange);&#10;        ProgressBar progressBar = cardView.findViewById(R.id.progressBar);&#10;&#10;        // Set vehicle data&#10;        if (subscription.getVehicleInfo() != null) {&#10;            // Load vehicle image using Glide&#10;            if (subscription.getVehicleInfo().getImageUrl() != null &amp;&amp; !subscription.getVehicleInfo().getImageUrl().isEmpty()) {&#10;                com.bumptech.glide.Glide.with(this)&#10;                        .load(subscription.getVehicleInfo().getImageUrl())&#10;                        .placeholder(android.R.drawable.ic_menu_directions)&#10;                        .error(android.R.drawable.ic_menu_directions)&#10;                        .centerCrop()&#10;                        .into(ivVehicleImage);&#10;                // Remove tint when showing real image&#10;                ivVehicleImage.setImageTintList(null);&#10;            } else {&#10;                // Use default icon with tint&#10;                ivVehicleImage.setImageResource(android.R.drawable.ic_menu_directions);&#10;                ivVehicleImage.setImageTintList(android.content.res.ColorStateList.valueOf(&#10;                        getResources().getColor(android.R.color.holo_green_dark, null)));&#10;            }&#10;&#10;            tvVehicleName.setText(subscription.getVehicleInfo().getVehicleName() != null&#10;                    ? subscription.getVehicleInfo().getVehicleName() : &quot;N/A&quot;);&#10;            tvVehicleModel.setText(&quot;Model: &quot; + (subscription.getVehicleInfo().getModel() != null&#10;                    ? subscription.getVehicleInfo().getModel() : &quot;N/A&quot;));&#10;        }&#10;&#10;        // Set package data&#10;        if (subscription.getPackageInfo() != null) {&#10;            tvPackageName.setText(subscription.getPackageInfo().getName() != null&#10;                    ? subscription.getPackageInfo().getName() : &quot;N/A&quot;);&#10;            tvKmInterval.setText(String.format(Locale.getDefault(), &quot;%,d km&quot;,&#10;                    subscription.getPackageInfo().getKmInterval()));&#10;        }&#10;&#10;        // Calculate days remaining&#10;        if (subscription.getEndDate() != null) {&#10;            try {&#10;                java.text.SimpleDateFormat sdf = new java.text.SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;, Locale.getDefault());&#10;                sdf.setTimeZone(java.util.TimeZone.getTimeZone(&quot;UTC&quot;));&#10;                java.util.Date endDate = sdf.parse(subscription.getEndDate());&#10;                java.util.Date now = new java.util.Date();&#10;&#10;                if (endDate != null) {&#10;                    long diffInMillis = endDate.getTime() - now.getTime();&#10;                    long daysRemaining = java.util.concurrent.TimeUnit.MILLISECONDS.toDays(diffInMillis);&#10;&#10;                    if (daysRemaining &gt; 0) {&#10;                        tvSubscriptionStatus.setText(String.format(Locale.getDefault(), &quot;Còn %d ngày&quot;, daysRemaining));&#10;&#10;                        // Set progress and color based on days remaining&#10;                        int totalDays = subscription.getPackageInfo() != null ? subscription.getPackageInfo().getDuration() : 30;&#10;                        int progress = (int) ((daysRemaining * 100) / totalDays);&#10;                        progressBar.setProgress(Math.min(100, Math.max(0, progress)));&#10;&#10;                        // Change color based on urgency&#10;                        if (daysRemaining &lt;= 7) {&#10;                            tvSubscriptionStatus.setTextColor(getResources().getColor(android.R.color.holo_red_dark, null));&#10;                            progressBar.setProgressTintList(android.content.res.ColorStateList.valueOf(&#10;                                    getResources().getColor(android.R.color.holo_red_dark, null)));&#10;                        } else if (daysRemaining &lt;= 15) {&#10;                            tvSubscriptionStatus.setTextColor(getResources().getColor(android.R.color.holo_orange_dark, null));&#10;                            progressBar.setProgressTintList(android.content.res.ColorStateList.valueOf(&#10;                                    getResources().getColor(android.R.color.holo_orange_dark, null)));&#10;                        } else {&#10;                            tvSubscriptionStatus.setTextColor(getResources().getColor(android.R.color.holo_green_dark, null));&#10;                            progressBar.setProgressTintList(android.content.res.ColorStateList.valueOf(&#10;                                    getResources().getColor(android.R.color.holo_green_dark, null)));&#10;                        }&#10;                    } else {&#10;                        tvSubscriptionStatus.setText(&quot;Hết hạn&quot;);&#10;                        tvSubscriptionStatus.setTextColor(getResources().getColor(android.R.color.holo_red_dark, null));&#10;                        progressBar.setProgress(0);&#10;                    }&#10;                }&#10;            } catch (java.text.ParseException e) {&#10;                Log.e(TAG, &quot;Error parsing end date&quot;, e);&#10;                tvSubscriptionStatus.setText(&quot;N/A&quot;);&#10;            }&#10;        }&#10;&#10;        // Format and display date range&#10;        if (subscription.getStartDate() != null &amp;&amp; subscription.getEndDate() != null) {&#10;            try {&#10;                java.text.SimpleDateFormat inputFormat = new java.text.SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;, Locale.getDefault());&#10;                java.text.SimpleDateFormat outputFormat = new java.text.SimpleDateFormat(&quot;dd/MM/yyyy&quot;, Locale.getDefault());&#10;                inputFormat.setTimeZone(java.util.TimeZone.getTimeZone(&quot;UTC&quot;));&#10;&#10;                java.util.Date startDate = inputFormat.parse(subscription.getStartDate());&#10;                java.util.Date endDate = inputFormat.parse(subscription.getEndDate());&#10;&#10;                if (startDate != null &amp;&amp; endDate != null) {&#10;                    String dateRange = outputFormat.format(startDate) + &quot; - &quot; + outputFormat.format(endDate);&#10;                    tvDateRange.setText(dateRange);&#10;                }&#10;            } catch (java.text.ParseException e) {&#10;                Log.e(TAG, &quot;Error parsing dates&quot;, e);&#10;                tvDateRange.setText(&quot;N/A&quot;);&#10;            }&#10;        }&#10;&#10;        // Add click listener&#10;        cardView.setOnClickListener(v -&gt; {&#10;            Toast.makeText(getContext(), &quot;Chi tiết: &quot; + subscription.getVehicleInfo().getVehicleName(), Toast.LENGTH_SHORT).show();&#10;        });&#10;&#10;        // Add card to container&#10;        llVehicleSubscriptionsContainer.addView(cardView);&#10;    }&#10;&#10;    private void showPaymentDialog(PackageModel packageModel) {&#10;        // Inflate dialog layout&#10;        View dialogView = LayoutInflater.from(getContext()).inflate(R.layout.dialog_payment_package, null);&#10;&#10;        AlertDialog.Builder builder = new AlertDialog.Builder(getContext());&#10;        builder.setView(dialogView);&#10;        AlertDialog dialog = builder.create();&#10;&#10;        // Initialize dialog views&#10;        TextView tvPackageNameDialog = dialogView.findViewById(R.id.tvPackageNameDialog);&#10;        TextView tvPackageDescription = dialogView.findViewById(R.id.tvPackageDescription);&#10;        TextView tvPackageDuration = dialogView.findViewById(R.id.tvPackageDuration);&#10;        TextView tvPackageKmInterval = dialogView.findViewById(R.id.tvPackageKmInterval);&#10;        TextView tvPackagePriceDialog = dialogView.findViewById(R.id.tvPackagePriceDialog);&#10;        TextView tvTotalPrice = dialogView.findViewById(R.id.tvTotalPrice);&#10;        Spinner spinnerVehicle = dialogView.findViewById(R.id.spinnerVehicle);&#10;        RadioGroup rgPaymentMethod = dialogView.findViewById(R.id.rgPaymentMethod);&#10;        Button btnCancel = dialogView.findViewById(R.id.btnCancel);&#10;        Button btnConfirmPayment = dialogView.findViewById(R.id.btnConfirmPayment);&#10;        FrameLayout loadingOverlayDialog = dialogView.findViewById(R.id.loadingOverlayDialog);&#10;&#10;        // Set package data&#10;        tvPackageNameDialog.setText(packageModel.getName());&#10;        tvPackageDescription.setText(packageModel.getDescription() != null ? packageModel.getDescription() : &quot;Gói dịch vụ bảo dưỡng xe&quot;);&#10;        tvPackageDuration.setText(String.format(Locale.getDefault(), &quot;%d ngày&quot;, packageModel.getDuration()));&#10;        tvPackageKmInterval.setText(String.format(Locale.getDefault(), &quot;%,d km&quot;, packageModel.getKmInterval()));&#10;&#10;        NumberFormat formatter = NumberFormat.getNumberInstance(new Locale(&quot;vi&quot;, &quot;VN&quot;));&#10;        String formattedPrice = formatter.format(packageModel.getPrice()) + &quot; VND&quot;;&#10;        tvPackagePriceDialog.setText(formattedPrice);&#10;        tvTotalPrice.setText(formattedPrice);&#10;&#10;        // Load vehicles&#10;        loadingOverlayDialog.setVisibility(View.VISIBLE);&#10;        loadVehiclesForDialog(spinnerVehicle, loadingOverlayDialog);&#10;&#10;        // Cancel button&#10;        btnCancel.setOnClickListener(v -&gt; dialog.dismiss());&#10;&#10;        // Confirm payment button&#10;        btnConfirmPayment.setOnClickListener(v -&gt; {&#10;            if (vehiclesList.isEmpty()) {&#10;                Toast.makeText(getContext(), &quot;Vui lòng thêm xe trước khi đăng ký gói&quot;, Toast.LENGTH_SHORT).show();&#10;                return;&#10;            }&#10;&#10;            int selectedPosition = spinnerVehicle.getSelectedItemPosition();&#10;            if (selectedPosition &lt; 0 || selectedPosition &gt;= vehiclesList.size()) {&#10;                Toast.makeText(getContext(), &quot;Vui lòng chọn xe&quot;, Toast.LENGTH_SHORT).show();&#10;                return;&#10;            }&#10;&#10;            VehicleModel selectedVehicle = vehiclesList.get(selectedPosition);&#10;            String paymentMethod = getSelectedPaymentMethod(rgPaymentMethod);&#10;&#10;            // Show loading&#10;            loadingOverlayDialog.setVisibility(View.VISIBLE);&#10;            btnConfirmPayment.setEnabled(false);&#10;&#10;            // Create subscription&#10;            createSubscription(packageModel, selectedVehicle, paymentMethod, dialog, loadingOverlayDialog, btnConfirmPayment);&#10;        });&#10;&#10;        dialog.show();&#10;    }&#10;&#10;    private void loadVehiclesForDialog(Spinner spinnerVehicle, FrameLayout loadingOverlay) {&#10;        tokenHelper.getTokenAndExecute(token -&gt; {&#10;            if (token != null &amp;&amp; !token.isEmpty()) {&#10;                vehiclesApi.getMyVehicles(&quot;Bearer &quot; + token).enqueue(new Callback&lt;VehicleResponse&gt;() {&#10;                    @Override&#10;                    public void onResponse(@NonNull Call&lt;VehicleResponse&gt; call, @NonNull Response&lt;VehicleResponse&gt; response) {&#10;                        loadingOverlay.setVisibility(View.GONE);&#10;                        if (response.isSuccessful() &amp;&amp; response.body() != null) {&#10;                            VehicleResponse vehicleResponse = response.body();&#10;                            if (vehicleResponse.isSuccess() &amp;&amp; vehicleResponse.getData() != null) {&#10;                                vehiclesList.clear();&#10;                                vehiclesList.addAll(vehicleResponse.getData());&#10;&#10;                                // Create adapter for spinner&#10;                                List&lt;String&gt; vehicleNames = new ArrayList&lt;&gt;();&#10;                                for (VehicleModel vehicle : vehiclesList) {&#10;                                    vehicleNames.add(vehicle.getVehicleName() + &quot; - &quot; + vehicle.getPlateNumber());&#10;                                }&#10;&#10;                                ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(&#10;                                        getContext(),&#10;                                        android.R.layout.simple_spinner_item,&#10;                                        vehicleNames&#10;                                );&#10;                                adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);&#10;                                spinnerVehicle.setAdapter(adapter);&#10;                            } else {&#10;                                Toast.makeText(getContext(), &quot;Không tìm thấy xe nào&quot;, Toast.LENGTH_SHORT).show();&#10;                            }&#10;                        } else {&#10;                            Toast.makeText(getContext(), &quot;Không thể tải danh sách xe&quot;, Toast.LENGTH_SHORT).show();&#10;                        }&#10;                    }&#10;&#10;                    @Override&#10;                    public void onFailure(@NonNull Call&lt;VehicleResponse&gt; call, @NonNull Throwable t) {&#10;                        loadingOverlay.setVisibility(View.GONE);&#10;                        Log.e(TAG, &quot;Error loading vehicles: &quot; + t.getMessage(), t);&#10;                        Toast.makeText(getContext(), &quot;Lỗi kết nối: &quot; + t.getMessage(), Toast.LENGTH_SHORT).show();&#10;                    }&#10;                });&#10;            } else {&#10;                loadingOverlay.setVisibility(View.GONE);&#10;                Toast.makeText(getContext(), &quot;Vui lòng đăng nhập&quot;, Toast.LENGTH_SHORT).show();&#10;            }&#10;        });&#10;    }&#10;&#10;    private String getSelectedPaymentMethod(RadioGroup rgPaymentMethod) {&#10;        int selectedId = rgPaymentMethod.getCheckedRadioButtonId();&#10;        if (selectedId == R.id.rbCash) {&#10;            return &quot;Tiền mặt&quot;;&#10;        } else if (selectedId == R.id.rbMomo) {&#10;            return &quot;Ví MoMo&quot;;&#10;        } else if (selectedId == R.id.rbBankTransfer) {&#10;            return &quot;Chuyển khoản ngân hàng&quot;;&#10;        }&#10;        return &quot;Tiền mặt&quot;;&#10;    }&#10;&#10;    private void createSubscription(PackageModel packageModel, VehicleModel vehicle, String paymentMethod,&#10;                                     AlertDialog dialog, FrameLayout loadingOverlay, Button btnConfirmPayment) {&#10;        tokenHelper.getTokenAndExecute(token -&gt; {&#10;            if (token != null &amp;&amp; !token.isEmpty()) {&#10;                // Calculate dates&#10;                SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;, Locale.getDefault());&#10;                sdf.setTimeZone(java.util.TimeZone.getTimeZone(&quot;UTC&quot;));&#10;&#10;                Date startDate = new Date();&#10;                Calendar calendar = Calendar.getInstance();&#10;                calendar.setTime(startDate);&#10;                calendar.add(Calendar.DAY_OF_YEAR, packageModel.getDuration());&#10;                Date endDate = calendar.getTime();&#10;&#10;                // Create request&#10;                CreateSubscriptionRequest request = new CreateSubscriptionRequest();&#10;                request.setVehicleId(vehicle.getId());&#10;                request.setPackageId(packageModel.getId());&#10;                request.setStartDate(sdf.format(startDate));&#10;                request.setEndDate(sdf.format(endDate));&#10;&#10;                Log.d(TAG, &quot;Creating subscription: vehicleId=&quot; + vehicle.getId() + &quot;, packageId=&quot; + packageModel.getId());&#10;&#10;                vehicleSubscriptionApi.createSubscription(&quot;Bearer &quot; + token, request)&#10;                        .enqueue(new Callback&lt;SingleSubscriptionResponse&gt;() {&#10;                            @Override&#10;                            public void onResponse(@NonNull Call&lt;SingleSubscriptionResponse&gt; call,&#10;                                                   @NonNull Response&lt;SingleSubscriptionResponse&gt; response) {&#10;                                loadingOverlay.setVisibility(View.GONE);&#10;                                btnConfirmPayment.setEnabled(true);&#10;&#10;                                if (response.isSuccessful() &amp;&amp; response.body() != null) {&#10;                                    SingleSubscriptionResponse subscriptionResponse = response.body();&#10;                                    if (subscriptionResponse.isSuccess()) {&#10;                                        Toast.makeText(getContext(),&#10;                                                &quot;Thanh toán thành công! Gói đã được kích hoạt.&quot;,&#10;                                                Toast.LENGTH_LONG).show();&#10;                                        dialog.dismiss();&#10;&#10;                                        // Reload vehicle subscriptions to show the new one&#10;                                        loadVehicleSubscriptions();&#10;                                    } else {&#10;                                        Toast.makeText(getContext(),&#10;                                                &quot;Lỗi: &quot; + subscriptionResponse.getMessage(),&#10;                                                Toast.LENGTH_SHORT).show();&#10;                                    }&#10;                                } else {&#10;                                    try {&#10;                                        String errorBody = response.errorBody() != null ? response.errorBody().string() : &quot;Unknown error&quot;;&#10;                                        Log.e(TAG, &quot;Error creating subscription: &quot; + errorBody);&#10;                                        Toast.makeText(getContext(),&#10;                                                &quot;Không thể tạo gói: &quot; + response.code(),&#10;                                                Toast.LENGTH_SHORT).show();&#10;                                    } catch (Exception e) {&#10;                                        Log.e(TAG, &quot;Error reading error body&quot;, e);&#10;                                        Toast.makeText(getContext(),&#10;                                                &quot;Không thể tạo gói&quot;,&#10;                                                Toast.LENGTH_SHORT).show();&#10;                                    }&#10;                                }&#10;                            }&#10;&#10;                            @Override&#10;                            public void onFailure(@NonNull Call&lt;SingleSubscriptionResponse&gt; call, @NonNull Throwable t) {&#10;                                loadingOverlay.setVisibility(View.GONE);&#10;                                btnConfirmPayment.setEnabled(true);&#10;                                Log.e(TAG, &quot;Error creating subscription: &quot; + t.getMessage(), t);&#10;                                Toast.makeText(getContext(),&#10;                                        &quot;Lỗi kết nối: &quot; + t.getMessage(),&#10;                                        Toast.LENGTH_SHORT).show();&#10;                            }&#10;                        });&#10;            } else {&#10;                loadingOverlay.setVisibility(View.GONE);&#10;                btnConfirmPayment.setEnabled(true);&#10;                Toast.makeText(getContext(), &quot;Vui lòng đăng nhập&quot;, Toast.LENGTH_SHORT).show();&#10;            }&#10;        });&#10;    }&#10;}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/layout/fragment_home.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/layout/fragment_home.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&#10;    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&#10;    android:background=&quot;#F8F9FA&quot;&gt;&#10;&#10;    &lt;ScrollView&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;match_parent&quot;&#10;        android:fillViewport=&quot;true&quot;&gt;&#10;&#10;        &lt;LinearLayout&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:orientation=&quot;vertical&quot;&#10;            android:padding=&quot;20dp&quot;&#10;            android:paddingBottom=&quot;100dp&quot;&#10;            android:clipToPadding=&quot;false&quot;&gt;&#10;&#10;        &lt;!-- Header Section --&gt;&#10;        &lt;RelativeLayout&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:layout_marginBottom=&quot;20dp&quot;&gt;&#10;&#10;            &lt;LinearLayout&#10;                android:layout_width=&quot;wrap_content&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:orientation=&quot;vertical&quot;&#10;                android:layout_alignParentStart=&quot;true&quot;&#10;                android:layout_centerVertical=&quot;true&quot;&gt;&#10;&#10;                &lt;TextView&#10;                    android:id=&quot;@+id/tvGreeting&quot;&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:text=&quot;Xin chào&quot;&#10;                    android:textSize=&quot;28sp&quot;&#10;                    android:textColor=&quot;#1A1A1A&quot;&#10;                    android:fontFamily=&quot;sans-serif-medium&quot;&#10;                    android:textStyle=&quot;bold&quot; /&gt;&#10;&#10;                &lt;LinearLayout&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:orientation=&quot;horizontal&quot;&#10;                    android:gravity=&quot;center_vertical&quot;&#10;                    android:layout_marginTop=&quot;4dp&quot;&gt;&#10;&#10;                    &lt;TextView&#10;                        android:id=&quot;@+id/tvCountry&quot;&#10;                        android:layout_width=&quot;wrap_content&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:text=&quot;Vietnam&quot;&#10;                        android:textSize=&quot;16sp&quot;&#10;                        android:textColor=&quot;#6C757D&quot; /&gt;&#10;&#10;                    &lt;ImageView&#10;                        android:layout_width=&quot;16dp&quot;&#10;                        android:layout_height=&quot;16dp&quot;&#10;                        android:layout_marginStart=&quot;4dp&quot;&#10;                        android:src=&quot;@android:drawable/arrow_down_float&quot;&#10;                        android:contentDescription=&quot;1&quot;&#10;                        app:tint=&quot;#6C757D&quot; /&gt;&#10;                &lt;/LinearLayout&gt;&#10;            &lt;/LinearLayout&gt;&#10;&#10;            &lt;!-- Notification Icon --&gt;&#10;            &lt;androidx.cardview.widget.CardView&#10;                android:id=&quot;@+id/btnNotification&quot;&#10;                android:layout_width=&quot;56dp&quot;&#10;                android:layout_height=&quot;56dp&quot;&#10;                android:layout_alignParentEnd=&quot;true&quot;&#10;                android:layout_centerVertical=&quot;true&quot;&#10;                app:cardCornerRadius=&quot;28dp&quot;&#10;                app:cardElevation=&quot;0dp&quot;&#10;                app:cardBackgroundColor=&quot;#FFE5E5&quot;&gt;&#10;&#10;                &lt;ImageView&#10;                    android:layout_width=&quot;28dp&quot;&#10;                    android:layout_height=&quot;28dp&quot;&#10;                    android:layout_gravity=&quot;center&quot;&#10;                    android:src=&quot;@android:drawable/ic_menu_close_clear_cancel&quot;&#10;                    android:contentDescription=&quot;@string/notification&quot;&#10;                    app:tint=&quot;#FF6B6B&quot; /&gt;&#10;            &lt;/androidx.cardview.widget.CardView&gt;&#10;        &lt;/RelativeLayout&gt;&#10;&#10;        &lt;!-- Search Bar --&gt;&#10;        &lt;androidx.cardview.widget.CardView&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;56dp&quot;&#10;            android:layout_marginBottom=&quot;20dp&quot;&#10;            app:cardCornerRadius=&quot;12dp&quot;&#10;            app:cardElevation=&quot;2dp&quot;&#10;            app:cardBackgroundColor=&quot;#F1F3F5&quot;&gt;&#10;&#10;            &lt;RelativeLayout&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;match_parent&quot;&#10;                android:paddingStart=&quot;16dp&quot;&#10;                android:paddingEnd=&quot;16dp&quot;&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:layout_centerVertical=&quot;true&quot;&#10;                    android:text=&quot;Search for a car service&quot;&#10;                    android:textSize=&quot;16sp&quot;&#10;                    android:textColor=&quot;#ADB5BD&quot; /&gt;&#10;&#10;                &lt;ImageView&#10;                    android:layout_width=&quot;24dp&quot;&#10;                    android:layout_height=&quot;24dp&quot;&#10;                    android:layout_alignParentEnd=&quot;true&quot;&#10;                    android:layout_centerVertical=&quot;true&quot;&#10;                    android:src=&quot;@android:drawable/ic_menu_search&quot;&#10;                    android:contentDescription=&quot;@string/search&quot;&#10;                    app:tint=&quot;#6C757D&quot; /&gt;&#10;            &lt;/RelativeLayout&gt;&#10;        &lt;/androidx.cardview.widget.CardView&gt;&#10;&#10;        &lt;!-- Featured Card --&gt;&#10;&lt;!--        &lt;androidx.cardview.widget.CardView--&gt;&#10;&lt;!--            android:layout_width=&quot;match_parent&quot;--&gt;&#10;&lt;!--            android:layout_height=&quot;wrap_content&quot;--&gt;&#10;&lt;!--            android:layout_marginBottom=&quot;24dp&quot;--&gt;&#10;&lt;!--            app:cardCornerRadius=&quot;16dp&quot;--&gt;&#10;&lt;!--            app:cardElevation=&quot;4dp&quot;--&gt;&#10;&lt;!--            app:cardBackgroundColor=&quot;#2E4A8F&quot;&gt;--&gt;&#10;&#10;&lt;!--            &lt;RelativeLayout--&gt;&#10;&lt;!--                android:layout_width=&quot;match_parent&quot;--&gt;&#10;&lt;!--                android:layout_height=&quot;wrap_content&quot;--&gt;&#10;&lt;!--                android:padding=&quot;24dp&quot;&gt;--&gt;&#10;&#10;&lt;!--&amp;lt;!&amp;ndash;                &lt;LinearLayout&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                    android:layout_width=&quot;wrap_content&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                    android:layout_height=&quot;wrap_content&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                    android:orientation=&quot;vertical&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                    android:layout_alignParentStart=&quot;true&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                    android:layout_centerVertical=&quot;true&quot;&gt;&amp;ndash;&amp;gt;--&gt;&#10;&#10;&lt;!--&amp;lt;!&amp;ndash;                    &lt;TextView&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:layout_width=&quot;wrap_content&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:layout_height=&quot;wrap_content&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:text=&quot;Basic Maintenance&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:textSize=&quot;20sp&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:textColor=&quot;#FFFFFF&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:textStyle=&quot;bold&quot; /&gt;&amp;ndash;&amp;gt;--&gt;&#10;&#10;&lt;!--&amp;lt;!&amp;ndash;                    &lt;TextView&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:layout_width=&quot;wrap_content&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:layout_height=&quot;wrap_content&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:text=&quot;Package&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:textSize=&quot;20sp&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:textColor=&quot;#FFFFFF&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:layout_marginBottom=&quot;12dp&quot; /&gt;&amp;ndash;&amp;gt;--&gt;&#10;&#10;&lt;!--&amp;lt;!&amp;ndash;                    &lt;TextView&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:layout_width=&quot;wrap_content&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:layout_height=&quot;wrap_content&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:text=&quot;START FROM&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:textSize=&quot;14sp&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:textColor=&quot;#FF6B6B&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:textStyle=&quot;bold&quot; /&gt;&amp;ndash;&amp;gt;--&gt;&#10;&#10;&lt;!--&amp;lt;!&amp;ndash;                    &lt;TextView&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:layout_width=&quot;wrap_content&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:layout_height=&quot;wrap_content&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:text=&quot;10.000 VND&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:textSize=&quot;22sp&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:textColor=&quot;#FF6B6B&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:textStyle=&quot;bold&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:layout_marginBottom=&quot;16dp&quot; /&gt;&amp;ndash;&amp;gt;--&gt;&#10;&#10;&lt;!--&amp;lt;!&amp;ndash;                    &lt;androidx.cardview.widget.CardView&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:layout_width=&quot;wrap_content&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:layout_height=&quot;wrap_content&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        app:cardCornerRadius=&quot;24dp&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        app:cardElevation=&quot;0dp&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        app:cardBackgroundColor=&quot;#FF6B6B&quot;&gt;&amp;ndash;&amp;gt;--&gt;&#10;&#10;&lt;!--&amp;lt;!&amp;ndash;                        &lt;TextView&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                            android:layout_width=&quot;wrap_content&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                            android:layout_height=&quot;wrap_content&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                            android:text=&quot;BOOK NOW&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                            android:textSize=&quot;16sp&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                            android:textColor=&quot;#FFFFFF&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                            android:textStyle=&quot;bold&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                            android:paddingStart=&quot;32dp&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                            android:paddingEnd=&quot;32dp&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                            android:paddingTop=&quot;12dp&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                            android:paddingBottom=&quot;12dp&quot; /&gt;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                    &lt;/androidx.cardview.widget.CardView&gt;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                &lt;/LinearLayout&gt;&amp;ndash;&amp;gt;--&gt;&#10;&#10;&lt;!--                &lt;LinearLayout--&gt;&#10;&lt;!--                    android:layout_width=&quot;wrap_content&quot;--&gt;&#10;&lt;!--                    android:layout_height=&quot;wrap_content&quot;--&gt;&#10;&lt;!--                    android:orientation=&quot;vertical&quot;--&gt;&#10;&lt;!--                    android:layout_alignParentEnd=&quot;true&quot;--&gt;&#10;&lt;!--                    android:layout_centerVertical=&quot;true&quot;--&gt;&#10;&lt;!--                    android:gravity=&quot;center&quot;&gt;--&gt;&#10;&#10;&lt;!--                    &lt;LinearLayout--&gt;&#10;&lt;!--                        android:layout_width=&quot;wrap_content&quot;--&gt;&#10;&lt;!--                        android:layout_height=&quot;wrap_content&quot;--&gt;&#10;&lt;!--                        android:orientation=&quot;horizontal&quot;--&gt;&#10;&lt;!--                        android:layout_marginBottom=&quot;16dp&quot;&gt;--&gt;&#10;&#10;&lt;!--                        &lt;androidx.cardview.widget.CardView--&gt;&#10;&lt;!--                            android:layout_width=&quot;40dp&quot;--&gt;&#10;&lt;!--                            android:layout_height=&quot;40dp&quot;--&gt;&#10;&lt;!--                            android:layout_marginEnd=&quot;8dp&quot;--&gt;&#10;&lt;!--                            app:cardCornerRadius=&quot;20dp&quot;--&gt;&#10;&lt;!--                            app:cardElevation=&quot;0dp&quot;--&gt;&#10;&lt;!--                            app:cardBackgroundColor=&quot;#FFFFFF&quot;&gt;--&gt;&#10;&#10;&lt;!--                            &lt;ImageView--&gt;&#10;&lt;!--                                android:layout_width=&quot;24dp&quot;--&gt;&#10;&lt;!--                                android:layout_height=&quot;24dp&quot;--&gt;&#10;&lt;!--                                android:layout_gravity=&quot;center&quot;--&gt;&#10;&lt;!--                                android:src=&quot;@android:drawable/ic_menu_compass&quot;--&gt;&#10;&lt;!--                                android:contentDescription=&quot;@string/icon&quot;--&gt;&#10;&lt;!--                                app:tint=&quot;#2E4A8F&quot; /&gt;--&gt;&#10;&lt;!--                        &lt;/androidx.cardview.widget.CardView&gt;--&gt;&#10;&#10;&lt;!--                        &lt;androidx.cardview.widget.CardView--&gt;&#10;&lt;!--                            android:layout_width=&quot;40dp&quot;--&gt;&#10;&lt;!--                            android:layout_height=&quot;40dp&quot;--&gt;&#10;&lt;!--                            android:layout_marginEnd=&quot;8dp&quot;--&gt;&#10;&lt;!--                            app:cardCornerRadius=&quot;20dp&quot;--&gt;&#10;&lt;!--                            app:cardElevation=&quot;0dp&quot;--&gt;&#10;&lt;!--                            app:cardBackgroundColor=&quot;#FFFFFF&quot;&gt;--&gt;&#10;&#10;&lt;!--                            &lt;ImageView--&gt;&#10;&lt;!--                                android:layout_width=&quot;24dp&quot;--&gt;&#10;&lt;!--                                android:layout_height=&quot;24dp&quot;--&gt;&#10;&lt;!--                                android:layout_gravity=&quot;center&quot;--&gt;&#10;&lt;!--                                android:src=&quot;@android:drawable/ic_menu_view&quot;--&gt;&#10;&lt;!--                                android:contentDescription=&quot;@string/icon&quot;--&gt;&#10;&lt;!--                                app:tint=&quot;#2E4A8F&quot; /&gt;--&gt;&#10;&lt;!--                        &lt;/androidx.cardview.widget.CardView&gt;--&gt;&#10;&#10;&lt;!--                        &lt;androidx.cardview.widget.CardView--&gt;&#10;&lt;!--                            android:layout_width=&quot;40dp&quot;--&gt;&#10;&lt;!--                            android:layout_height=&quot;40dp&quot;--&gt;&#10;&lt;!--                            app:cardCornerRadius=&quot;20dp&quot;--&gt;&#10;&lt;!--                            app:cardElevation=&quot;0dp&quot;--&gt;&#10;&lt;!--                            app:cardBackgroundColor=&quot;#FFFFFF&quot;&gt;--&gt;&#10;&#10;&lt;!--                            &lt;ImageView--&gt;&#10;&lt;!--                                android:layout_width=&quot;24dp&quot;--&gt;&#10;&lt;!--                                android:layout_height=&quot;24dp&quot;--&gt;&#10;&lt;!--                                android:layout_gravity=&quot;center&quot;--&gt;&#10;&lt;!--                                android:src=&quot;@android:drawable/ic_menu_info_details&quot;--&gt;&#10;&lt;!--                                android:contentDescription=&quot;@string/icon&quot;--&gt;&#10;&lt;!--                                app:tint=&quot;#2E4A8F&quot; /&gt;--&gt;&#10;&lt;!--                        &lt;/androidx.cardview.widget.CardView&gt;--&gt;&#10;&lt;!--                    &lt;/LinearLayout&gt;--&gt;&#10;&#10;&lt;!--                    &lt;ImageView--&gt;&#10;&lt;!--                        android:layout_width=&quot;120dp&quot;--&gt;&#10;&lt;!--                        android:layout_height=&quot;80dp&quot;--&gt;&#10;&lt;!--                        android:src=&quot;@android:drawable/ic_menu_directions&quot;--&gt;&#10;&lt;!--                        android:contentDescription=&quot;@string/icon&quot;--&gt;&#10;&lt;!--                        app:tint=&quot;#FF6B6B&quot; /&gt;--&gt;&#10;&lt;!--                &lt;/LinearLayout&gt;--&gt;&#10;&lt;!--            &lt;/RelativeLayout&gt;--&gt;&#10;&lt;!--        &lt;/androidx.cardview.widget.CardView&gt;--&gt;&#10;&#10;        &lt;!-- Packages Section --&gt;&#10;        &lt;TextView&#10;            android:layout_width=&quot;wrap_content&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:text=&quot;Gói dịch vụ&quot;&#10;            android:textSize=&quot;22sp&quot;&#10;            android:textColor=&quot;#2C5F2D&quot;&#10;            android:textStyle=&quot;bold&quot;&#10;            android:layout_marginBottom=&quot;16dp&quot;&#10;            tools:ignore=&quot;HardcodedText&quot; /&gt;&#10;&#10;        &lt;HorizontalScrollView&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:scrollbars=&quot;none&quot;&#10;            android:layout_marginBottom=&quot;24dp&quot;&gt;&#10;&#10;            &lt;LinearLayout&#10;                android:id=&quot;@+id/llPackagesContainer&quot;&#10;                android:layout_width=&quot;wrap_content&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:orientation=&quot;horizontal&quot;&gt;&#10;&#10;                &lt;!-- Package cards will be added dynamically here --&gt;&#10;&#10;            &lt;/LinearLayout&gt;&#10;        &lt;/HorizontalScrollView&gt;&#10;&#10;        &lt;!-- Vehicles Section Title --&gt;&#10;        &lt;TextView&#10;            android:layout_width=&quot;wrap_content&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:text=&quot;Các gói xe của tôi&quot;&#10;            android:textSize=&quot;22sp&quot;&#10;            android:textColor=&quot;#2C5F2D&quot;&#10;            android:textStyle=&quot;bold&quot;&#10;            android:layout_marginBottom=&quot;16dp&quot;&#10;            tools:ignore=&quot;HardcodedText&quot; /&gt;&#10;&#10;        &lt;HorizontalScrollView&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:scrollbars=&quot;none&quot;&#10;            android:layout_marginBottom=&quot;20dp&quot;&gt;&#10;&#10;            &lt;LinearLayout&#10;                android:id=&quot;@+id/llVehicleSubscriptionsContainer&quot;&#10;                android:layout_width=&quot;wrap_content&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:orientation=&quot;horizontal&quot;&gt;&#10;&#10;                &lt;!-- Vehicle subscription cards will be added dynamically here --&gt;&#10;&#10;            &lt;/LinearLayout&gt;&#10;        &lt;/HorizontalScrollView&gt;&#10;&#10;        &lt;TextView&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:text=&quot;Gói dịch vụ của tôi&quot;&#10;            android:textSize=&quot;18sp&quot;&#10;            android:textStyle=&quot;bold&quot;&#10;            android:textColor=&quot;#1A237E&quot;&#10;            android:layout_marginTop=&quot;24dp&quot;&#10;            android:layout_marginBottom=&quot;12dp&quot;&#10;            android:layout_marginStart=&quot;16dp&quot;&#10;            android:layout_marginEnd=&quot;16dp&quot; /&gt;&#10;&#10;        &lt;LinearLayout&#10;            android:id=&quot;@+id/llVehicleSubscriptionsContainer&quot;&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:orientation=&quot;vertical&quot;&#10;            android:paddingHorizontal=&quot;16dp&quot;&#10;            android:paddingBottom=&quot;16dp&quot; /&gt;&#10;&#10;&#10;    &lt;/LinearLayout&gt;&#10;&lt;/ScrollView&gt;&#10;&#10;    &lt;!-- Loading Overlay --&gt;&#10;    &lt;FrameLayout&#10;        android:id=&quot;@+id/loadingOverlay&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;match_parent&quot;&#10;        android:background=&quot;#FFFFFF&quot;&#10;        android:clickable=&quot;true&quot;&#10;        android:focusable=&quot;true&quot;&#10;        android:visibility=&quot;gone&quot;&gt;&#10;&#10;        &lt;LinearLayout&#10;            android:layout_width=&quot;wrap_content&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:layout_gravity=&quot;center&quot;&#10;            android:orientation=&quot;vertical&quot;&#10;            android:gravity=&quot;center&quot;&gt;&#10;&#10;            &lt;ProgressBar&#10;                android:layout_width=&quot;56dp&quot;&#10;                android:layout_height=&quot;56dp&quot;&#10;                android:indeterminateTint=&quot;#203A9A&quot; /&gt;&#10;&#10;            &lt;TextView&#10;                android:layout_width=&quot;wrap_content&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:text=&quot;Đang tải dữ liệu...&quot;&#10;                android:textSize=&quot;16sp&quot;&#10;                android:textColor=&quot;#203A9A&quot;&#10;                android:textStyle=&quot;bold&quot;&#10;                android:layout_marginTop=&quot;16dp&quot;&#10;                tools:ignore=&quot;HardcodedText&quot; /&gt;&#10;        &lt;/LinearLayout&gt;&#10;    &lt;/FrameLayout&gt;&#10;&#10;    &lt;!-- Floating Chat Bubble - Fixed position, not affected by scroll --&gt;&#10;    &lt;androidx.cardview.widget.CardView&#10;        android:id=&quot;@+id/chatBubble&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:layout_gravity=&quot;bottom|end&quot;&#10;        android:layout_marginEnd=&quot;20dp&quot;&#10;        android:layout_marginBottom=&quot;80dp&quot;&#10;        app:cardCornerRadius=&quot;28dp&quot;&#10;        app:cardElevation=&quot;12dp&quot;&#10;        app:cardBackgroundColor=&quot;#203A9A&quot;&gt;&#10;&#10;        &lt;LinearLayout&#10;            android:layout_width=&quot;wrap_content&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:orientation=&quot;horizontal&quot;&#10;            android:gravity=&quot;center&quot;&#10;            android:paddingStart=&quot;16dp&quot;&#10;            android:paddingEnd=&quot;16dp&quot;&#10;            android:paddingTop=&quot;12dp&quot;&#10;            android:paddingBottom=&quot;12dp&quot;&gt;&#10;&#10;            &lt;ImageView&#10;                android:layout_width=&quot;24dp&quot;&#10;                android:layout_height=&quot;24dp&quot;&#10;                android:src=&quot;@android:drawable/ic_dialog_email&quot;&#10;                android:contentDescription=&quot;@string/icon&quot;&#10;                app:tint=&quot;#FFFFFF&quot; /&gt;&#10;&#10;            &lt;TextView&#10;                android:layout_width=&quot;wrap_content&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:text=&quot;Hỗ trợ&quot;&#10;                android:textSize=&quot;14sp&quot;&#10;                android:textColor=&quot;#FFFFFF&quot;&#10;                android:textStyle=&quot;bold&quot;&#10;                android:layout_marginStart=&quot;8dp&quot;&#10;                tools:ignore=&quot;HardcodedText&quot; /&gt;&#10;        &lt;/LinearLayout&gt;&#10;    &lt;/androidx.cardview.widget.CardView&gt;&#10;&#10;&lt;/FrameLayout&gt;&#10;&#10;&#10;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&#10;    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&#10;    android:background=&quot;#F8F9FA&quot;&gt;&#10;&#10;    &lt;ScrollView&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;match_parent&quot;&#10;        android:fillViewport=&quot;true&quot;&gt;&#10;&#10;        &lt;LinearLayout&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:orientation=&quot;vertical&quot;&#10;            android:padding=&quot;20dp&quot;&#10;            android:paddingBottom=&quot;100dp&quot;&#10;            android:clipToPadding=&quot;false&quot;&gt;&#10;&#10;        &lt;!-- Header Section --&gt;&#10;        &lt;RelativeLayout&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:layout_marginBottom=&quot;20dp&quot;&gt;&#10;&#10;            &lt;LinearLayout&#10;                android:layout_width=&quot;wrap_content&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:orientation=&quot;vertical&quot;&#10;                android:layout_alignParentStart=&quot;true&quot;&#10;                android:layout_centerVertical=&quot;true&quot;&gt;&#10;&#10;                &lt;TextView&#10;                    android:id=&quot;@+id/tvGreeting&quot;&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:text=&quot;Xin chào&quot;&#10;                    android:textSize=&quot;28sp&quot;&#10;                    android:textColor=&quot;#1A1A1A&quot;&#10;                    android:fontFamily=&quot;sans-serif-medium&quot;&#10;                    android:textStyle=&quot;bold&quot; /&gt;&#10;&#10;                &lt;LinearLayout&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:orientation=&quot;horizontal&quot;&#10;                    android:gravity=&quot;center_vertical&quot;&#10;                    android:layout_marginTop=&quot;4dp&quot;&gt;&#10;&#10;                    &lt;TextView&#10;                        android:id=&quot;@+id/tvCountry&quot;&#10;                        android:layout_width=&quot;wrap_content&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:text=&quot;Vietnam&quot;&#10;                        android:textSize=&quot;16sp&quot;&#10;                        android:textColor=&quot;#6C757D&quot; /&gt;&#10;&#10;                    &lt;ImageView&#10;                        android:layout_width=&quot;16dp&quot;&#10;                        android:layout_height=&quot;16dp&quot;&#10;                        android:layout_marginStart=&quot;4dp&quot;&#10;                        android:src=&quot;@android:drawable/arrow_down_float&quot;&#10;                        android:contentDescription=&quot;1&quot;&#10;                        app:tint=&quot;#6C757D&quot; /&gt;&#10;                &lt;/LinearLayout&gt;&#10;            &lt;/LinearLayout&gt;&#10;&#10;            &lt;!-- Notification Icon --&gt;&#10;            &lt;androidx.cardview.widget.CardView&#10;                android:id=&quot;@+id/btnNotification&quot;&#10;                android:layout_width=&quot;56dp&quot;&#10;                android:layout_height=&quot;56dp&quot;&#10;                android:layout_alignParentEnd=&quot;true&quot;&#10;                android:layout_centerVertical=&quot;true&quot;&#10;                app:cardCornerRadius=&quot;28dp&quot;&#10;                app:cardElevation=&quot;0dp&quot;&#10;                app:cardBackgroundColor=&quot;#FFE5E5&quot;&gt;&#10;&#10;                &lt;ImageView&#10;                    android:layout_width=&quot;28dp&quot;&#10;                    android:layout_height=&quot;28dp&quot;&#10;                    android:layout_gravity=&quot;center&quot;&#10;                    android:src=&quot;@android:drawable/ic_menu_close_clear_cancel&quot;&#10;                    android:contentDescription=&quot;@string/notification&quot;&#10;                    app:tint=&quot;#FF6B6B&quot; /&gt;&#10;            &lt;/androidx.cardview.widget.CardView&gt;&#10;        &lt;/RelativeLayout&gt;&#10;&#10;        &lt;!-- Search Bar --&gt;&#10;        &lt;androidx.cardview.widget.CardView&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;56dp&quot;&#10;            android:layout_marginBottom=&quot;20dp&quot;&#10;            app:cardCornerRadius=&quot;12dp&quot;&#10;            app:cardElevation=&quot;2dp&quot;&#10;            app:cardBackgroundColor=&quot;#F1F3F5&quot;&gt;&#10;&#10;            &lt;RelativeLayout&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;match_parent&quot;&#10;                android:paddingStart=&quot;16dp&quot;&#10;                android:paddingEnd=&quot;16dp&quot;&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:layout_centerVertical=&quot;true&quot;&#10;                    android:text=&quot;Search for a car service&quot;&#10;                    android:textSize=&quot;16sp&quot;&#10;                    android:textColor=&quot;#ADB5BD&quot; /&gt;&#10;&#10;                &lt;ImageView&#10;                    android:layout_width=&quot;24dp&quot;&#10;                    android:layout_height=&quot;24dp&quot;&#10;                    android:layout_alignParentEnd=&quot;true&quot;&#10;                    android:layout_centerVertical=&quot;true&quot;&#10;                    android:src=&quot;@android:drawable/ic_menu_search&quot;&#10;                    android:contentDescription=&quot;@string/search&quot;&#10;                    app:tint=&quot;#6C757D&quot; /&gt;&#10;            &lt;/RelativeLayout&gt;&#10;        &lt;/androidx.cardview.widget.CardView&gt;&#10;&#10;        &lt;!-- Featured Card --&gt;&#10;&lt;!--        &lt;androidx.cardview.widget.CardView--&gt;&#10;&lt;!--            android:layout_width=&quot;match_parent&quot;--&gt;&#10;&lt;!--            android:layout_height=&quot;wrap_content&quot;--&gt;&#10;&lt;!--            android:layout_marginBottom=&quot;24dp&quot;--&gt;&#10;&lt;!--            app:cardCornerRadius=&quot;16dp&quot;--&gt;&#10;&lt;!--            app:cardElevation=&quot;4dp&quot;--&gt;&#10;&lt;!--            app:cardBackgroundColor=&quot;#2E4A8F&quot;&gt;--&gt;&#10;&#10;&lt;!--            &lt;RelativeLayout--&gt;&#10;&lt;!--                android:layout_width=&quot;match_parent&quot;--&gt;&#10;&lt;!--                android:layout_height=&quot;wrap_content&quot;--&gt;&#10;&lt;!--                android:padding=&quot;24dp&quot;&gt;--&gt;&#10;&#10;&lt;!--&amp;lt;!&amp;ndash;                &lt;LinearLayout&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                    android:layout_width=&quot;wrap_content&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                    android:layout_height=&quot;wrap_content&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                    android:orientation=&quot;vertical&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                    android:layout_alignParentStart=&quot;true&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                    android:layout_centerVertical=&quot;true&quot;&gt;&amp;ndash;&amp;gt;--&gt;&#10;&#10;&lt;!--&amp;lt;!&amp;ndash;                    &lt;TextView&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:layout_width=&quot;wrap_content&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:layout_height=&quot;wrap_content&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:text=&quot;Basic Maintenance&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:textSize=&quot;20sp&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:textColor=&quot;#FFFFFF&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:textStyle=&quot;bold&quot; /&gt;&amp;ndash;&amp;gt;--&gt;&#10;&#10;&lt;!--&amp;lt;!&amp;ndash;                    &lt;TextView&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:layout_width=&quot;wrap_content&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:layout_height=&quot;wrap_content&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:text=&quot;Package&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:textSize=&quot;20sp&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:textColor=&quot;#FFFFFF&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:layout_marginBottom=&quot;12dp&quot; /&gt;&amp;ndash;&amp;gt;--&gt;&#10;&#10;&lt;!--&amp;lt;!&amp;ndash;                    &lt;TextView&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:layout_width=&quot;wrap_content&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:layout_height=&quot;wrap_content&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:text=&quot;START FROM&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:textSize=&quot;14sp&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:textColor=&quot;#FF6B6B&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:textStyle=&quot;bold&quot; /&gt;&amp;ndash;&amp;gt;--&gt;&#10;&#10;&lt;!--&amp;lt;!&amp;ndash;                    &lt;TextView&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:layout_width=&quot;wrap_content&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:layout_height=&quot;wrap_content&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:text=&quot;10.000 VND&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:textSize=&quot;22sp&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:textColor=&quot;#FF6B6B&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:textStyle=&quot;bold&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:layout_marginBottom=&quot;16dp&quot; /&gt;&amp;ndash;&amp;gt;--&gt;&#10;&#10;&lt;!--&amp;lt;!&amp;ndash;                    &lt;androidx.cardview.widget.CardView&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:layout_width=&quot;wrap_content&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        android:layout_height=&quot;wrap_content&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        app:cardCornerRadius=&quot;24dp&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        app:cardElevation=&quot;0dp&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                        app:cardBackgroundColor=&quot;#FF6B6B&quot;&gt;&amp;ndash;&amp;gt;--&gt;&#10;&#10;&lt;!--&amp;lt;!&amp;ndash;                        &lt;TextView&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                            android:layout_width=&quot;wrap_content&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                            android:layout_height=&quot;wrap_content&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                            android:text=&quot;BOOK NOW&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                            android:textSize=&quot;16sp&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                            android:textColor=&quot;#FFFFFF&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                            android:textStyle=&quot;bold&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                            android:paddingStart=&quot;32dp&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                            android:paddingEnd=&quot;32dp&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                            android:paddingTop=&quot;12dp&quot;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                            android:paddingBottom=&quot;12dp&quot; /&gt;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                    &lt;/androidx.cardview.widget.CardView&gt;&amp;ndash;&amp;gt;--&gt;&#10;&lt;!--&amp;lt;!&amp;ndash;                &lt;/LinearLayout&gt;&amp;ndash;&amp;gt;--&gt;&#10;&#10;&lt;!--                &lt;LinearLayout--&gt;&#10;&lt;!--                    android:layout_width=&quot;wrap_content&quot;--&gt;&#10;&lt;!--                    android:layout_height=&quot;wrap_content&quot;--&gt;&#10;&lt;!--                    android:orientation=&quot;vertical&quot;--&gt;&#10;&lt;!--                    android:layout_alignParentEnd=&quot;true&quot;--&gt;&#10;&lt;!--                    android:layout_centerVertical=&quot;true&quot;--&gt;&#10;&lt;!--                    android:gravity=&quot;center&quot;&gt;--&gt;&#10;&#10;&lt;!--                    &lt;LinearLayout--&gt;&#10;&lt;!--                        android:layout_width=&quot;wrap_content&quot;--&gt;&#10;&lt;!--                        android:layout_height=&quot;wrap_content&quot;--&gt;&#10;&lt;!--                        android:orientation=&quot;horizontal&quot;--&gt;&#10;&lt;!--                        android:layout_marginBottom=&quot;16dp&quot;&gt;--&gt;&#10;&#10;&lt;!--                        &lt;androidx.cardview.widget.CardView--&gt;&#10;&lt;!--                            android:layout_width=&quot;40dp&quot;--&gt;&#10;&lt;!--                            android:layout_height=&quot;40dp&quot;--&gt;&#10;&lt;!--                            android:layout_marginEnd=&quot;8dp&quot;--&gt;&#10;&lt;!--                            app:cardCornerRadius=&quot;20dp&quot;--&gt;&#10;&lt;!--                            app:cardElevation=&quot;0dp&quot;--&gt;&#10;&lt;!--                            app:cardBackgroundColor=&quot;#FFFFFF&quot;&gt;--&gt;&#10;&#10;&lt;!--                            &lt;ImageView--&gt;&#10;&lt;!--                                android:layout_width=&quot;24dp&quot;--&gt;&#10;&lt;!--                                android:layout_height=&quot;24dp&quot;--&gt;&#10;&lt;!--                                android:layout_gravity=&quot;center&quot;--&gt;&#10;&lt;!--                                android:src=&quot;@android:drawable/ic_menu_compass&quot;--&gt;&#10;&lt;!--                                android:contentDescription=&quot;@string/icon&quot;--&gt;&#10;&lt;!--                                app:tint=&quot;#2E4A8F&quot; /&gt;--&gt;&#10;&lt;!--                        &lt;/androidx.cardview.widget.CardView&gt;--&gt;&#10;&#10;&lt;!--                        &lt;androidx.cardview.widget.CardView--&gt;&#10;&lt;!--                            android:layout_width=&quot;40dp&quot;--&gt;&#10;&lt;!--                            android:layout_height=&quot;40dp&quot;--&gt;&#10;&lt;!--                            android:layout_marginEnd=&quot;8dp&quot;--&gt;&#10;&lt;!--                            app:cardCornerRadius=&quot;20dp&quot;--&gt;&#10;&lt;!--                            app:cardElevation=&quot;0dp&quot;--&gt;&#10;&lt;!--                            app:cardBackgroundColor=&quot;#FFFFFF&quot;&gt;--&gt;&#10;&#10;&lt;!--                            &lt;ImageView--&gt;&#10;&lt;!--                                android:layout_width=&quot;24dp&quot;--&gt;&#10;&lt;!--                                android:layout_height=&quot;24dp&quot;--&gt;&#10;&lt;!--                                android:layout_gravity=&quot;center&quot;--&gt;&#10;&lt;!--                                android:src=&quot;@android:drawable/ic_menu_view&quot;--&gt;&#10;&lt;!--                                android:contentDescription=&quot;@string/icon&quot;--&gt;&#10;&lt;!--                                app:tint=&quot;#2E4A8F&quot; /&gt;--&gt;&#10;&lt;!--                        &lt;/androidx.cardview.widget.CardView&gt;--&gt;&#10;&#10;&lt;!--                        &lt;androidx.cardview.widget.CardView--&gt;&#10;&lt;!--                            android:layout_width=&quot;40dp&quot;--&gt;&#10;&lt;!--                            android:layout_height=&quot;40dp&quot;--&gt;&#10;&lt;!--                            app:cardCornerRadius=&quot;20dp&quot;--&gt;&#10;&lt;!--                            app:cardElevation=&quot;0dp&quot;--&gt;&#10;&lt;!--                            app:cardBackgroundColor=&quot;#FFFFFF&quot;&gt;--&gt;&#10;&#10;&lt;!--                            &lt;ImageView--&gt;&#10;&lt;!--                                android:layout_width=&quot;24dp&quot;--&gt;&#10;&lt;!--                                android:layout_height=&quot;24dp&quot;--&gt;&#10;&lt;!--                                android:layout_gravity=&quot;center&quot;--&gt;&#10;&lt;!--                                android:src=&quot;@android:drawable/ic_menu_info_details&quot;--&gt;&#10;&lt;!--                                android:contentDescription=&quot;@string/icon&quot;--&gt;&#10;&lt;!--                                app:tint=&quot;#2E4A8F&quot; /&gt;--&gt;&#10;&lt;!--                        &lt;/androidx.cardview.widget.CardView&gt;--&gt;&#10;&lt;!--                    &lt;/LinearLayout&gt;--&gt;&#10;&#10;&lt;!--                    &lt;ImageView--&gt;&#10;&lt;!--                        android:layout_width=&quot;120dp&quot;--&gt;&#10;&lt;!--                        android:layout_height=&quot;80dp&quot;--&gt;&#10;&lt;!--                        android:src=&quot;@android:drawable/ic_menu_directions&quot;--&gt;&#10;&lt;!--                        android:contentDescription=&quot;@string/icon&quot;--&gt;&#10;&lt;!--                        app:tint=&quot;#FF6B6B&quot; /&gt;--&gt;&#10;&lt;!--                &lt;/LinearLayout&gt;--&gt;&#10;&lt;!--            &lt;/RelativeLayout&gt;--&gt;&#10;&lt;!--        &lt;/androidx.cardview.widget.CardView&gt;--&gt;&#10;&#10;        &lt;!-- Packages Section --&gt;&#10;        &lt;TextView&#10;            android:layout_width=&quot;wrap_content&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:text=&quot;Gói dịch vụ&quot;&#10;            android:textSize=&quot;22sp&quot;&#10;            android:textColor=&quot;#2C5F2D&quot;&#10;            android:textStyle=&quot;bold&quot;&#10;            android:layout_marginBottom=&quot;16dp&quot;&#10;            tools:ignore=&quot;HardcodedText&quot; /&gt;&#10;&#10;        &lt;HorizontalScrollView&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:scrollbars=&quot;none&quot;&#10;            android:layout_marginBottom=&quot;24dp&quot;&gt;&#10;&#10;            &lt;LinearLayout&#10;                android:id=&quot;@+id/llPackagesContainer&quot;&#10;                android:layout_width=&quot;wrap_content&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:orientation=&quot;horizontal&quot;&gt;&#10;&#10;                &lt;!-- Package cards will be added dynamically here --&gt;&#10;&#10;            &lt;/LinearLayout&gt;&#10;        &lt;/HorizontalScrollView&gt;&#10;&#10;        &lt;!-- Vehicles Section Title --&gt;&#10;        &lt;TextView&#10;            android:layout_width=&quot;wrap_content&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:text=&quot;Các gói xe của tôi&quot;&#10;            android:textSize=&quot;22sp&quot;&#10;            android:textColor=&quot;#2C5F2D&quot;&#10;            android:textStyle=&quot;bold&quot;&#10;            android:layout_marginBottom=&quot;16dp&quot;&#10;            tools:ignore=&quot;HardcodedText&quot; /&gt;&#10;&#10;        &lt;HorizontalScrollView&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:scrollbars=&quot;none&quot;&#10;            android:layout_marginBottom=&quot;20dp&quot;&gt;&#10;&#10;            &lt;LinearLayout&#10;                android:id=&quot;@+id/llVehicleSubscriptionsContainer&quot;&#10;                android:layout_width=&quot;wrap_content&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:orientation=&quot;horizontal&quot;&gt;&#10;&#10;                &lt;!-- Vehicle subscription cards will be added dynamically here --&gt;&#10;&#10;            &lt;/LinearLayout&gt;&#10;        &lt;/HorizontalScrollView&gt;&#10;&#10;    &lt;/LinearLayout&gt;&#10;&lt;/ScrollView&gt;&#10;&#10;    &lt;!-- Loading Overlay --&gt;&#10;    &lt;FrameLayout&#10;        android:id=&quot;@+id/loadingOverlay&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;match_parent&quot;&#10;        android:background=&quot;#FFFFFF&quot;&#10;        android:clickable=&quot;true&quot;&#10;        android:focusable=&quot;true&quot;&#10;        android:visibility=&quot;gone&quot;&gt;&#10;&#10;        &lt;LinearLayout&#10;            android:layout_width=&quot;wrap_content&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:layout_gravity=&quot;center&quot;&#10;            android:orientation=&quot;vertical&quot;&#10;            android:gravity=&quot;center&quot;&gt;&#10;&#10;            &lt;ProgressBar&#10;                android:layout_width=&quot;56dp&quot;&#10;                android:layout_height=&quot;56dp&quot;&#10;                android:indeterminateTint=&quot;#203A9A&quot; /&gt;&#10;&#10;            &lt;TextView&#10;                android:layout_width=&quot;wrap_content&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:text=&quot;Đang tải dữ liệu...&quot;&#10;                android:textSize=&quot;16sp&quot;&#10;                android:textColor=&quot;#203A9A&quot;&#10;                android:textStyle=&quot;bold&quot;&#10;                android:layout_marginTop=&quot;16dp&quot;&#10;                tools:ignore=&quot;HardcodedText&quot; /&gt;&#10;        &lt;/LinearLayout&gt;&#10;    &lt;/FrameLayout&gt;&#10;&#10;    &lt;!-- Floating Chat Bubble - Fixed position, not affected by scroll --&gt;&#10;    &lt;androidx.cardview.widget.CardView&#10;        android:id=&quot;@+id/chatBubble&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:layout_gravity=&quot;bottom|end&quot;&#10;        android:layout_marginEnd=&quot;20dp&quot;&#10;        android:layout_marginBottom=&quot;80dp&quot;&#10;        app:cardCornerRadius=&quot;28dp&quot;&#10;        app:cardElevation=&quot;12dp&quot;&#10;        app:cardBackgroundColor=&quot;#203A9A&quot;&gt;&#10;&#10;        &lt;LinearLayout&#10;            android:layout_width=&quot;wrap_content&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:orientation=&quot;horizontal&quot;&#10;            android:gravity=&quot;center&quot;&#10;            android:paddingStart=&quot;16dp&quot;&#10;            android:paddingEnd=&quot;16dp&quot;&#10;            android:paddingTop=&quot;12dp&quot;&#10;            android:paddingBottom=&quot;12dp&quot;&gt;&#10;&#10;            &lt;ImageView&#10;                android:layout_width=&quot;24dp&quot;&#10;                android:layout_height=&quot;24dp&quot;&#10;                android:src=&quot;@android:drawable/ic_dialog_email&quot;&#10;                android:contentDescription=&quot;@string/icon&quot;&#10;                app:tint=&quot;#FFFFFF&quot; /&gt;&#10;&#10;            &lt;TextView&#10;                android:layout_width=&quot;wrap_content&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:text=&quot;Hỗ trợ&quot;&#10;                android:textSize=&quot;14sp&quot;&#10;                android:textColor=&quot;#FFFFFF&quot;&#10;                android:textStyle=&quot;bold&quot;&#10;                android:layout_marginStart=&quot;8dp&quot;&#10;                tools:ignore=&quot;HardcodedText&quot; /&gt;&#10;        &lt;/LinearLayout&gt;&#10;    &lt;/androidx.cardview.widget.CardView&gt;&#10;&#10;&lt;/FrameLayout&gt;&#10;&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>